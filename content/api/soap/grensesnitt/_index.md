---
title: Grensesnitt
description: SOAP operasjoner med beskrivelse.
weight: 300
toc: true
aliases:
- /guides/integrasjon/sluttbrukere/webservice/grensesnitt/
---

I parameter listene under finnes en del parametere som er formater med *italic*.
Disse er interne for Altinn og vil bli fjernet eller endret til noe som gir mer mening for eksternt som en
del av en forbedring på alle kontrakter jfr. forbedringspunkt Prod100006098 – Disse er heller ikke kommentert.

## ReporteeArchiveExternal

| Tjenesteoperasjon         | Kort beskrivelse                                          |
| ------------------------- | --------------------------------------------------------- |
| GetArchivedFormTask       | Henter alle skjema og vedlegg for et arkivert skjemasett. |
| GetAttachmentData         | Henter de binære vedleggene til et arkivert element       |
| GetArchivedLookup         | Henter en arkivert innsynstjeneste                        |
| GetArchivedCorrespondence | Henter en arkivert melding                                |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### GetArchivedFormTaskV2

Denne operasjonen henter alle skjema og vedlegg for et skjemasett arkivert i Altinn. Operasjonen er versjonert, gjeldende versjon er V2.

#### Input parameter

Parametere som ikke er beskrevet her er knyttet til autentisering og vil variere fra et endepunkt til et annet.

| Input             | Beskrivelse                                                                                                                                                          |
| ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| reporteeElementId | Unik identifikator for et element i arkivet.                                                                                                                         |
| languageID        | Språk id. Benytt verdien 0 (uspesifisert) da skjemasett vil hentes med språket den ble arkivert med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068- Nynorsk |

#### Datakontrakter for responsen

##### ArchivedFormTaskBEV2

| Feltnavn                        | Beskrivelse                                                                                                                                            |
| ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ReporteeElementID               | Unik identifikator for skjemasettet i Altinn                                                                                                           |
| LastChanged                     | Dato og tidspunkt for når skjemasettet sist var endret (yyyy-MM-ddThh:mm:ss)                                                                           |
| *ReporteeID*                    | Unik identifikator for avgiver i Altinn som skjemasettet tilhører                                                                                      |
| ArchivedDateTime                | Dato og tidspunkt for når skjemasettet ble arkivert (yyyy-MM-ddThh:mm:ss)                                                                              |
| ServiceOwner                    | Tjenesteeier som tilbyr tjenesten som skjemasettet tilhører.                                                                                           |
| InvoiceInformation              | Betalingsinformasjon tilknyttet skjemasettet, desimaltall.                                                                                             |
| ArchivedFormList                | Liste med arkiv-objekter (ett objekt av typen ArchivedFormBE per skjema i skjemasettet), som inneholder detaljer for skjemaene i skjemasettet          |
| ArchivedAttachmentList          | Liste med Arkiv-objekter (ett objekt av typen ArchivedAttachmentBE per vedlegg i skjemasettet), som inneholder detaljer for vedleggene i skjemasettet. |
| ArchivedFormTaskSigningStepList | Liste med arkiv-objekter av typen ArchivedFormTaskSigningStepBE, som inneholder signeringsinformasjon for hvert signeringssteg for skjemasettet.       |
| ExternalServiceCode             | Tjenestekode (for eksempel ”PSA”) for tjenesten som skjemasettet tilhører.                                                                             |
| ExternalServiceEditionCode      | Tjenesteutgavekode (for eksempel ”2009”) for tjenesten som skjemasettet tilhører.                                                                      |
| ssnOrgNumber                    | Inneholder enten fødselsnummer eller organisasjonsnummer tilhørende ReporteeID                                                                         |
| PasswordEncryptedSymmetricKey   | Passordkryptert symmetrisk nøkkel for å dekryptere eventuell sensitive felter.                                                                         |
| SOEncryptedSymmetricdKey        | Samme symmetriske nøkkel som over, men kryptert med tjenesteeiers sertifikat. Tjenesteeier kan da bruke privat nøkkel til å dekryptere denne nøkkelen. |
| ArchiveTaskList                 | Liste med arkiv-objekter av typen ArchiveTaskBEV2.                                                                                                     |

##### ArchivedFormBE

| Feltnavn                   | Beskrivelse                                                                               |
| -------------------------- | ----------------------------------------------------------------------------------------- |
| FormID                     | Unik identifikator for skjemaet i Altinn                                                  |
| FormName                   | Navn på skjemaet                                                                          |
| FormDataXML                | XML som inneholder selve skjemadataene.                                                   |
| ParentReference            | Referanse til hovedskjemaets FormID (dersom skjemaet er et underskjema).                  |
| FormPresentationFieldValue | Presentasjonsfeltverdi for skjemaet.                                                      |
| PaymentInformationE2B      | E2B-formatert kvittering for skjemaet.                                                    |
| PaymentInformationHTML     | HTML-formatert kvittering for skjemaet.                                                   |
| DataFormatId               | Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør         |
| DataFormatVersion          | Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon) |
| FormPaymentInfo            | Betalingsinformasjon vedlagt skjemaet.                                                    |
| FormSummary                | Beskrivelse av skjemaet                                                                   |

##### ArchivedAttachmentBEV2

| Feltnavn         | Beskrivelse                                                               |
| ---------------- | ------------------------------------------------------------------------- |
| AttachmentID     | Unik identifikator for vedlegget i Altinn.                                |
| AttachmentName   | Navn på vedlegget.                                                        |
| FileName         | Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som ":" og "\". |
| AttachmentData   | Innholdet/dataene i vedlegget.                                            |
| CreatedDateTime  | Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss).  |
| SendersReference | Referanse satt av sluttbruker- eller etatssystem som har sendt vedlegget. |
| IsEncrypted      | Boolsk verdi som sier om vedlegget er kryptert.                           |

##### ArchivedFormTaskSigningStepBEV2

| Feltnavn                 | Beskrivelse                                                                                                                                                                            |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| SignatureID              | Unik identifikator for signaturen i Altinn.                                                                                                                                            |
| SignedByUser             | Unik Altinn id på bruker som har gjennomført signering                                                                                                                                 |
| SignedByUserSSN          | Fødselsnummer til bruker som har gjennomført signering                                                                                                                                 |
| SignedByUserName         | Navn på bruker som har gjennomført signering.                                                                                                                                          |
| CreatedDateTime          | Dato og tidspunkt for når signeringen ble gjennomført (yyyy-MM-ddThh:mm:ss).                                                                                                           |
| Signature                | Signaturen, binært formatert.                                                                                                                                                          |
| SignatureText            | Tekst for signatur.                                                                                                                                                                    |
| AuthenticationLevelID    | Unik Altinn id for autentiseringnivået for signaturen                                                                                                                                  |
| AuthenticationMethod     | Unik Altinn id for autentiseringsmetoden til brukeren ved signering.                                                                                                                   |
| CertificateIssuedByName  | Hvem som har utsted det eventuelle sertifikat som ble brukt ved signering                                                                                                              |
| CertificateIssuedForName | Hvem dette sertifikatet har blitt utstedt til.                                                                                                                                         |
| CertificateValidFrom     | Når er sertifikatet gyldig fra                                                                                                                                                         |
| CertificateValidTo       | Når er sertifikatet gyldig til                                                                                                                                                         |
| SignedAttachmentList     | Liste med AttachmentIDs for vedlegg som er signert med denne signaturen.                                                                                                               |
| SignedFromList           | Liste med FormIDs for skjemaer som er signert med denne signaturen.                                                                                                                    |
| IsSigningAllRequired     | Angir om signering er utført for alle elementer i skjemasett: YES – signering på alle skjema. NO – valgfri signering på skjema. SET_PER_FORM – valg for signering satt på skjema nivå. |
| ProcessStepID            | Den unike identifikatoren for steget signaturen gjelder for.                                                                                                                           |

##### ArchiveTaskBEV2

| Feltnavn                              | Beskrivelse                                                    |
| ------------------------------------- | -------------------------------------------------------------- |
| EndUserSystemID                       | Sluttbrukersystem identifikator.                               |
| LastChanged                           | Angir dato for sist endring.                                   |
| NumberOfSignaturesAdded               | Antall signaturer som er lagt til.                             |
| ProcessStepID_FK                      | Intern ID for prosessteg.                                      |
| SentComplete                          | Angir om element ble sent som komplett fra sluttbrukersystem.  |
| TaskID                                | Identifikator for elementet, samme som ReporteeElementID       |
| UserDefinedNumberOfSignaturesRequired | Antall signaturer krevd for et evt brukerstyrt signeringssteg. |
| WorkflowReference                     | Intern ID forarbeidsflyt.                                      |

### GetAttachmentDataV2

Denne operasjonen benyttes for å hente ut data for ett gitt vedlegg. Operasjonen er versjonert, gjeldende versjon er V2.

#### Input parameter

Parametere som ikke er beskrevet her er knyttet til autentisering og vil variere fra et endepunkt til et annet.

| Input        | Beskrivelse                        |
| ------------ | ---------------------------------- |
| attachmentId | Unik identifikator for et vedlegg. |

#### Datakontrakter for responsen

##### AttachmentBEV2

| Feltnavn                 | Beskrivelse                                                                                                                             |
| ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------- |
| AttachmentID             | Unik identifikator for vedlegget i Altinn                                                                                               |
| AttachmentName           | Navn på vedlegget.                                                                                                                      |
| FileName                 | Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som ":" og "\".                                                               |
| AttachmentData           | Innholdet/dataene i vedlegget.                                                                                                          |
| CreatedDateTime          | Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss).                                                                |
| SendersReference         | Referanse satt av sluttbruker- eller etatssystem som har sendt vedlegget.                                                               |
| IsEncrypted              | Boolsk verdi som sier om vedlegget er kryptert.                                                                                         |
| AttachmentTypeID         | MIME-typen for vedlegget                                                                                                                |
| AttachmentFunctionTypeID | Angir funksjon for vedlegget: Invoice, Unspecified                                                                                      |
| ReporteeElementID        | Referanse til element (skjemasett eller melding) som vedlegget tilhører. Unik id i Altinn.                                              |
| CreatedByUserID          | Bruker id for bruker som har lagt ved vedlegget.                                                                                        |
| IsAddedAfterFormFillin   | Angir om vedlegget er lagt til etter utfylling.                                                                                         |
| IsAssociatedToFormSet    | Angir om vedlegget er knyttet til skjemasett eller ikke – brukes for å slette vedlegg som er lastet opp men ikke lagt til skjemasettet. |
| *DestinationType*        |                                                                                                                                         |

### GetArchivedLookup

Denne operasjonen benyttes for å hente en arkivert innsynstjeneste.

#### Input parameter

Parametere som ikke er beskrevet her er knyttet til autentisering og vil variere fra et endepunkt til et annet.

| Input             | Beskrivelse                                                                                                  |
| ----------------- | ------------------------------------------------------------------------------------------------------------ |
| reporteeElementId | Referanse til innsynstjenesten som skal hentes.                                                              |
| languageID        | Språkkode for det språket innsynstjenesten skal hentes med. Språk id:1033-English, 1044-Bokmål, 2068-Nynorsk |

#### Datakontrakter for responsen

##### ArchivedLookupExternal

| Feltnavn        | Beskrivelse                                                                    |
| --------------- | ------------------------------------------------------------------------------ |
| AllowForwarding | Angir om innsynstjenesten kan videresendes i portalen.                         |
| ArchiveDateTime | Angir dato for når innsynstjenesten ble arkivert.                              |
| LanguageTypeId  | Språkkoden.                                                                    |
| LookupID        | Unike identifikatoren for denne innsynstjenesten, samme som ReporteeElementId. |
| LookupPDF       | Entitet av typen AttachementBEV2 som inneholder data og metadata om PDF.       |

##### AttachmentBEV2

| Feltnavn                 | Beskrivelse                                                                                                |
| ------------------------ | ---------------------------------------------------------------------------------------------------------- |
| AttachmentID             | Ikke satt.                                                                                                 |
| AttachmentName           | Navn på vedlegget.                                                                                         |
| FileName                 | Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som ":" og "\".                                  |
| AttachmentData           | Innholdet/dataene i vedlegget.                                                                             |
| CreatedDateTime          | Ikke satt.                                                                                                 |
| SendersReference         | Ikke brukt i dette tilfellet.                                                                              |
| IsEncrypted              | Ikke brukt i dette tilfellet.                                                                              |
| AttachmentTypeID         | MIMEMIME-typen for vedlegget, en enum men vil alltid i dette tilfellet være satt til: application_pdf-PDF. |
| AttachmentFunctionTypeID | Angir funksjon for vedlegget, satt til Unspecified.                                                        |
| ReporteeElementID        | Referanse til den arkiverte innsynstjenesten. Unik id i Altinn.                                            |
| CreatedByUserID          | Ikke satt.                                                                                                 |
| IsAddedAfterFormFillin   | Ikke brukt i dette tilfellet.                                                                              |
| IsAssociatedToFormSet    | Ikke brukt i dette tilfellet.                                                                              |
| DestinationType          | Enum, men ikke brukt i dette tilfellet.                                                                    |

### GetArchivedCorrespondence

Denne operasjonen benyttes for å hente en arkivert melding.

#### Input parameter

Parametere som ikke er beskrevet her er knyttet til autentisering og vil variere fra et endepunkt til et annet.

| Input     | Beskrivelse                                              |
| --------- | -------------------------------------------------------- |
| archiveId | Id for det elementet man ønsker å laste ned fra arkivet. |

#### Datakontrakter for responsen

##### ArchivedCorrespondence

| Feltnavn                  | Beskrivelse                                                                                                                                                                                                         |
| ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| AllowForwarding           | Denne verdien forteller hvorvidt det er lov og videresende meldingen.                                                                                                                                               |
| ArchiveCorrespondenceID   | Meldingen sin ID slik den ligger i avgiverarkivet.                                                                                                                                                                  |
| ArchiveReference          | Dette feltet vil inneholde en referanse til et tidligere innsendt element hvis denne meldingen er et svar på en innsending.                                                                                         |
| CaseId                    | ID på tilknyttet samhandlingstjeneste hvis meldingen er knyttet til et slikt element.                                                                                                                               |
| ConfirmationDate          | Dato og tid for når meldingen ble bekreftet motatt hvis dette ble gjort.                                                                                                                                            |
| CorrespondenceSubject     | Meldingens emne.                                                                                                                                                                                                    |
| CorrespondenceSummary     | Meldingens oppsummering.                                                                                                                                                                                            |
| CorrespondenceText        | Hovedinnholdet i meldingen.                                                                                                                                                                                         |
| CorrespondenceTitle       | Meldingens tittel.                                                                                                                                                                                                  |
| CustomMessageData         | Felt for attributter spesifikke for den gitte Altinn tjeneste. For eksempel informasjon om kommunenummer på selvangivelsen. Bruk av spesifikke attributter avtales spesielt for de(n) aktuelle Altinn-tjenesten(e). |
| DateSent                  | Dato og tid for når meldingen ble arkivert.                                                                                                                                                                         |
| DueDate                   | Dato og tid for når meldingen må bekreftes motatt, hvis meldingen hadde slikt krav.                                                                                                                                 |
| ExternalSystemReference   | En fritekst verdi satt av tjenesteeier ved opprettelsen av meldingen.                                                                                                                                               |
| SentBy                    | Meldingens avsender.                                                                                                                                                                                                |
| ServiceName               | Navnet på tjenesten som meldingen er basert på.                                                                                                                                                                     |
| CorrespondenceAttachments | Liste med vedlegg. Se AttachmentBEV2.                                                                                                                                                                               |
| CorrespondenceLinks       | Liste med alternativer for hvordan meldingen kan besvares. Se CorrespondenceLink.                                                                                                                                   |

##### AttachmentBEV2

| Feltnavn                 | Beskrivelse                                                                                                                             |
| ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------- |
| AttachmentID             | Unik identifikator for vedlegget i Altinn                                                                                               |
| AttachmentName           | Navn på vedlegget.                                                                                                                      |
| FileName                 | Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som ":" og "\".                                                               |
| AttachmentData           | Innholdet/dataene i vedlegget.                                                                                                          |
| CreatedDateTime          | Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss).                                                                |
| SendersReference         | Referanse satt av sluttbruker- eller etatssystem som har sendt vedlegget.                                                               |
| IsEncrypted              | Boolsk verdi som sier om vedlegget er kryptert.                                                                                         |
| AttachmentTypeID         | MIME-typen for vedlegget.                                                                                                               |
| AttachmentFunctionTypeID | Angir funksjon for vedlegget: Invoice, Unspecified.                                                                                     |
| ReporteeElementID        | Referanse til element (skjemasett eller melding) som vedlegget tilhører. Unik id i Altinn.                                              |
| CreatedByUserID          | Bruker id for bruker som har lagt ved vedlegget.                                                                                        |
| IsAddedAfterFormFillin   | Angir om vedlegget er lagt til etter utfylling.                                                                                         |
| IsAssociatedToFormSet    | Angir om vedlegget er knyttet til skjemasett eller ikke – brukes for å slette vedlegg som er lastet opp men ikke lagt til skjemasettet. |
| *DestinationType*        | *Brukes internt i Altinn.*                                                                                                              |

#### CorrespondenceLink

| Feltnavn | Beskrivelse                                                                                 |
| -------- | ------------------------------------------------------------------------------------------- |
| LinkType | Angir hvilken type informasjon linken gir: Form, ServiceCode, ServiceURL, ArchiveReference. |
| LinkURL  | Angir URL.                                                                                  |
| LinkText | Angir teksten som vises for linken.                                                         |

## IntermediaryInbound

| Tjenesteoperasjon         | Kort beskrivelse                                                                                     |
| ------------------------- | ---------------------------------------------------------------------------------------------------- |
| GetAltinnSubmissionStatus | Kalkulerer og returnerer estimert tid for når en oppgave sendt til Altinn vil være ferdig prosessert |
| SubmitFormTask            | Lar et sluttbrukersystem sende et skjemasett til Altinn                                              |
| CompleteAndSign           | Lar et sluttbrukersystem komplettere og signere et skjemasett i Altinn                               |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### IntermediaryInbound.GetAltinnSubmissionStatus

Denne operasjonen kalkulerer og returnerer estimert tid for når en oppgave sendt til Altinn vil være ferdig prosessert.

Tabellen under beskriver datakontrakten for operasjonen.

| Input          | Beskrivelse                                                                                                                    |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------ |
| N/A            |                                                                                                                                |
| **Returverdi** | **Beskrivelse**                                                                                                                |
| Minutes        | Estimert tid (antall minutter) for når man kan forvente at en innsendingstjeneste sendt til Altinn vil være ferdig prosessert. |

### IntermediaryInbound.SubmitFormTask

Denne operasjonen lar et sluttbrukersystem sende et skjemasett til Altinn. Operasjonen returnerer en kvittering til sluttbrukersystemet som inneholder status for innsendingen.


Ved innsending fra sluttbrukersystem tar Altinn en kopi av innsendt skjemasett og prosesserer denne kopien på liknende måte som ved innsending i SBL (portalen). 
Denne kopien kan modifiseres slik at felter legges til eller skrives over. 
Deretter utføres en sammenlikning av den originalt innsendte XML-en med sikte på å detektere feil i innsendingen, for eksempel at kalkylene stemmer overens med det som forsøkes sendt inn.  

Denne sammenlikningsprosessen er dokumentert i mer detalj [her](/docs/api/soap/skjemasett-sammenlikning/).  

Se også [Legge til vedlegg til innsendt skjemasett](../funksjonelle-scenario/#legge-til-vedlegg-til-innsendt-skjemasett) for informasjon om begrensninger på vedleggsstørrelse.

Tabellen under beskriver datakontrakten for operasjonen.

| userSSN          | Brukers fødselsnummer. Til bruk både til autentisering og evt. signering       |
| ---------------- | ------------------------------------------------------------------------------ |
| userPassword     | Brukers passord. Til bruk både til autentisering og evt. signering             |
| userPinCode      | Pinkode. Til bruk både til autentisering og evt. signering                     |
| authMethod       | Autentiseringsmetode. Til bruk både til autentisering og evt. signering        |
| formTaskShipment | Objekt av typen FormTaskShipmentBE som inneholder detaljer om forsendelsen     |
| **Returverdi**   | **Beskrivelse**                                                                |
| Receipt          | Objekt av typen ReceiptExternalBE med kvitteringsinformasjon for forsendelsen. |

**Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.**

| Property                              | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **FormTaskShipmentBE**                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Reportee                              | Unik identifikator for avgiver for denne forsendelsen, fødselsnummer eller organisasjonsnummer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ExternalShipmentReference             | Referanse for forsendelsen. Referansen settes av sluttbrukersystem og kan dermed benyttes ved senere forespørsler mot Altinn for denne forsendelsen, bør derfor være unik.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| FormTasks                             | Ett objekt av typen FormTask med detaljer for skjemasettet i denne forsendelsen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Attachments                           | Liste med vedleggs-objekter av typen Attachment som inneholder detaljer for vedlegg i forsendelsen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Signatures                            | Objekt av typen Signature som inneholder signeringsdetaljer for forsendelsen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IsUserDelegationLocked                | Setter hvorvidt et brukerstyrt signeringssteg skal være låst (true) eller ikke (false). Kun betydning hvis avsender har tilstand som ”Trusted partner”.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| UserDefinedNumberOfSignaturesRequired | Setter hvor mange brukerstyrte signeringer det må være i et eventuelt brukerstyrt signeringssteg for dette skjemasettet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  | Users | Liste med objekt av typen DelegatedUserBE som kan signere et eventuelt brukerstyrt signeringssteg |
| EncryptedKey                          | Objekt av typen EncryptedKeyBE som inneholder informasjon brukt for dekryptering av sensitive felter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| CaseID                                | ID til samhandlingstjenesten som innsendingen eventuelt skal knyttes til                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **FormTask**                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ServiceCode                           | Unik tjenestekode for tjenesten.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ServiceEdition                        | Tjenesteutgavekode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Forms                                 | Liste med Form-objekter (ett for hvert skjema i oppgavesettet)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Attachment**                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Name                                  | Navn på vedlegg (som det vises i portal).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| EndUserSystemReference                | Referanse for vedlegg (settes av sluttbrukersystem, bør være unik).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ParentReference                       | Angir EndUserSystemReference for skjemaet som vedlegget hører til.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| FileName                              | Filnavn for vedlegget. Filavnet kan ikke inneholde tegn som ":" og "\".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Encrypted                             | Angir om vedlegget er kryptert.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| AttachementData                       | Selve dataene for vedlegget, byte-array.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| AttachmentTypeName                    | Angir type vedlegg for tjenester som har vedleggsvalidering og –regler                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Signature**                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| EndUserSystemReference                | Referanse til signaturen som ble utført i sluttbrukersystem (satt av sluttbrukersystem, bør være unik).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| EndUserSystemUserId                   | Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EndUserSystemLoginDateTime            | Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| EndUserSystemSignatureDateTime        | Dato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| EndUserSystemVersion                  | Versjonsnummer for sluttbrukersystemet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| EndUserSystemSignatureLogId           | Unik id for logginnslag for signeringen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Form**                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Completed                             | Dette flagget indikerer at et skjema er sendt inn komplett fra et sluttbrukersystem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| DataFormatId                          | Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| DataFormatVersion                     | Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| EndUserSystemReference                | Referanse for skjema, satt av sluttbrukersystemet. Kan benyttes til å spørre etter kvittering på skjema ved å benytte ReferenceTypeName.SendersReference.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| FormData                              | Skjemadata. Må legges i en CDATA blokk.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **DelegatedUserBE**                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| SSN                                   | Fødselsnummer for bruker som skal signere.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Name                                  | Og etternavn til bruker som skal signere                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| NumberOfSignaturesAllowed             | Antall signaturer denne kan gjøre                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **EncryptedKeyBE**                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ReporteeSymmetricKey                  | Objekt av typen ReporteeSymmetricKeyBE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ServiceOwnerSymmetricKeys             | Objekt av typen ServiceOwnerSymmetricKeyBE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **ReporteeSymmetricKeyBE **           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Key                                   | Symmetrisk nøkkel brukt til å kryptere sensitive felter, kryptert med brukers passord.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ReporteeNumber                        | Fødselsnummer eller organisasjonsnummer for avgiver                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **ServiceOwnerSymmetricKeyBE**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ServiceOwnerCode                      | Tjenesteeierkode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| CertificateId                         | Unik identifikator for sertifikatet brukt til å kryptere den symmetriske nøkkelen angitt i parameteren Key under.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Key                                   | Symmetrisk nøkkel brukt til å kryptere sensitive felter, kryptert med tjenesteeiers sertifikat.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **ReceiptExternalBE**                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ReceiptId                             | Unik identifikator kvitteringen i Altinn. Benyttes for eksempel for senere uthenting av status/kvittering.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ReceiptText                           | Tekst i kvitteringen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ReceiptHistory                        | Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| LastChanged                           | Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **ReceiptTypeName**                   |
| ReceiptTypeName                       | Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ReceiptStatusCode                     | Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ParentReceiptId                       | Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| References                            | Liste med ReferenceBE-objekter for kvitteringen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| SubReceipts                           | Liste med tilhørende ReceiptExternalBE-objekter (dersom denne kvitteringen er en hovedkvittering)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **ReferenceBE**                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ReferenceValue                        | Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ReferenceTypeName                     | Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReferenc - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, ArchiveReference - Arkivreferanse |

### IntermediaryInbound.UpdateFormData

Denne operasjonen lar et sluttbrukersystem oppdatere et skjemasett i Altinn. Operasjonen returnerer en kvittering til sluttbrukersystemet som inneholder status for oppdateringen.

Tabellen under beskriver datakontrakten for operasjonen.

| Property       | Beskrivelse                                                                     |
| -------------- | ------------------------------------------------------------------------------- |
| userSSN        | Brukers fødselsnummer. Til bruk både til autentisering og evt. signering        |
| userPassword   | Brukers passord. Til bruk både til autentisering og evt. signering              |
| userPinCode    | Pinkode. Til bruk både til autentisering og evt. signering                      |
| authMethod     | Autentiseringsmetode. Til bruk både til autentisering og evt. signering         |
| formTaskUpdate | Objekt av typen FormTaskUpdate som inneholder detaljer om oppdateringen         |
| **Returverdi** | **Beskrivelse**                                                                 |
| Receipt        | Objekt av typen ReceiptExternalBE med kvitteringsinformasjon for oppdateringen. |

**Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.**

| Property                  | Beskrivelse                                                                                                                                                                    |
| ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **FormTaskUpdate**        |                                                                                                                                                                                |
| ExternalShipmentReference | Referanse for forsendelsen. Referansen settes av sluttbrukersystem og kan dermed benyttes ved senere forespørsler mot Altinn for denne forsendelsen, bør derfor være unik.     |
| FormUpdateList            | Objekt av typen FormUpdateList, som er en liste med objekter av typen FormUpdate                                                                                               |
| reporteeElementId         | Unik identifikator for skjemasettet i Altinn som skal oppdateres                                                                                                               |
| **FormUpdate**            |                                                                                                                                                                                |
| DataFormatId              | Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør. Denne må alltid oppgis, uavhengig av om det er et nytt skjema eller en oppdatering.         |
| DataFormatVersion         | Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon). Denne må alltid oppgis, uavhengig av om det er et nytt skjema eller en oppdatering. |
| FormData                  | Skjemadata. Må legges i en CDATA blokk.                                                                                                                                        |
| FormId                    | Unik identifikator for skjemaet som skal oppdateres. Om FormId er satt til 0 vil et nytt skjema bli laget.                                                                     |
| SendersReference          | Referanse satt av sluttbruker. Denne må være unik for hvert enkelt skjema i skjemasettet.                                                                                      |

### IntermediaryInbound.CompleteAndSign

Denne operasjonen lar et sluttbrukersystem komplettere og signere en skjemainnsending i Altinn. Operasjonen returnerer en kvittering til sluttbrukersystemet som inneholder status for innsendingen.

Operasjonen er ment å kunne brukes for å sluttføre skjemainstanser som ligger til utfylling. For eksempel kan dette være instanser som er opprettet i portal eller ved hjelp av SubmitFormTask, og som har fått lagt til ytterligere vedlegg ved hjelp av SubmitAttachmentStreamed.

| Input             | Beskrivelse                                                                    |
| ----------------- | ------------------------------------------------------------------------------ |
| userSSN           | Brukers fødselsnummer. Til bruk både til autentisering og evt. signering       |
| userPassword      | Brukers passord. Til bruk både til autentisering og evt. signering             |
| userPinCode       | Pinkode. Til bruk både til autentisering og evt. signering                     |
| authMethod        | Autentiseringsmetode. Til bruk både til autentisering og evt. signering        |
| reporteeElementId | Arbeidsflytreferanse som skal kompletteres og signeres.                        |
| signatures        | Liste med objekter av typen Signature som brukes til signering.                |
| languageId        | Språkkode:1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk                 |
| **Returverdi**    | **Beskrivelse**                                                                |
| Receipt           | Objekt av typen ReceiptExternalBE med kvitteringsinformasjon for forsendelsen. |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                       | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ReceiptSearchExternalBE**    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ReceiptId                      | Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| References                     | Liste med ReferenceBE-objekter for kvitteringen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **ReceiptExternalBE**          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ReceiptId                      | Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ReceiptText                    | Tekst i kvitteringen, kan inneholde variasjoner over følgende kvitteringssvar: Deleted, Warning - "soft error", Error - "feil", Successfully Instantiated, Schema Validation OK, Not A Valid Signature, Form Validation Failed, SchemaValidationError>"feil"</SchemaValidationError>, Shipment Already Exists : ::External Shipment Reference : "extshipref", Service Edition Code is Missing  ::External Shipment Reference : "extshipref", SignAndSend Completed Successfully, Not A Valid Service :; ServiceCode : "service code", ServiceEdition : "serviceedition" ; ::External Shipment Reference : "external shipment ref", Not A Valid DataFormatId Or DataFormatVersion; DataFormatVersion : "dataformatversion", DataFormatId : "dataformatid" ; ::External Shipment Reference : "external shipment ref", Argument Null Exception - Intermediary Inbound :ExternalShipmentReference, Invalid reportee, Your request suffered from a non-functional error, There exist no valid services with given service code/ edition code :"service code"/"serviceedition" ::External Shipment Reference : "external shipment ref" |
| ReceiptHistory                 | Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| LastChanged                    | Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ReceiptTypeName                | Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ReceiptTemplate                | Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ParentReceiptId                | Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| References                     | Liste med ReferenceBE-objekter for kvitteringen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| SubReceipts                    | Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **ReferenceBE**                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ReferenceValue                 | Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ReferenceTypeName              | Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen (Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen), OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse (Settes av Altinn og kan ikke endres), ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, ArchiveReference - Arkivreferanse                                                                         |
| **Signature**                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| EndUserSystemReference         | Referanse til signaturen som ble utført i sluttbrukersystem (satt av sluttbrukersystem, bør være unik)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EndUserSystemUserId            | Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| EndUserSystemLoginDateTime     | Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EndUserSystemSignatureDateTime | Dato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| EndUserSystemVersion           | Versjonsnummer for sluttbrukersystemet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| EndUserSystemSignatureLogId    | Unik id for logginnslag for signeringen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

### IntermediaryInboundStreamed

| Tjenesteoperasjon        | Kort beskrivelse                                                                  |
| ------------------------ | --------------------------------------------------------------------------------- |
| SubmitAttachmentStreamed | Legger til vedlegg til eksisterende innsendinger som står til utfylling i Altinn. |

Operasjonen brukes til å legge til vedlegg for en aktiv skjemainstans opprettet i portal eller vha webservice (SubmitFormTask).  
Se [Legge til vedlegg til innsendt skjemasett](../funksjonelle-scenario/#legge-til-vedlegg-til-innsendt-skjemasett) for informasjon om begrensninger på vedleggsstørrelse.

Tabellen under beskriver datakontrakten for operasjonen.

| Input                                                                                | Beskrivelse                                                                                                                                        |
| ------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| StreamedAttachmentBasicBE, StreamedAttachmentECBE eller StreamedAttachmentExternalBE | Objekt med vedleggsinformasjon, datastrøm for vedleggsdata og autentiseringsinformasjon (mindre forskjeller etter hvilket endepunkt man benytter). |
| **Returverdi**                                                                       | **Beskrivelse**                                                                                                                                    |
| ReceiptExternalStreamedBE                                                            | Objekt av typen ReceiptExternalStreamedBE som inneholder detaljer for kvitteringen.                                                                |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                         | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ReceiptExternalStreamedBE**    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ReceiptId                        | Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering                                                                                                                                                                                                                                                                                                                                                                   |
| ReceiptText                      | Tekst i kvitteringen, kan inneholde variasjoner over følgende kvitteringssvar: Deleted                                                                                                                                                                                                                                                                                                                                                                                 |
| ReceiptHistory                   | Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken                                                                                                                                                                                                                                                                                                                                                      |
| LastChanged                      | Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                                                                                                                                                                                           |
| ReceiptTypeName                  | Angir hva kvittering gjelder. Mulige verdier: Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste |
| ReceiptStatusCode                | Status for forsendelse som kvitteringen gjelder: Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                                                                                                                                                                                                                      |
| ParentReceiptId                  | Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).                                                                                                                                                                                                                                                                                                   |
| **StreamedAttachmentExternalBE** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| userSSN                          | Brukers fødselsnummer. Til bruk både til autentisering og evt. signering                                                                                                                                                                                                                                                                                                                                                                                               |
| userPassword                     | Brukers passord. Til bruk både til autentisering og evt. signering                                                                                                                                                                                                                                                                                                                                                                                                     |
| authMethod                       | Autentiseringsmetode. Til bruk både til autentisering og evt. signering                                                                                                                                                                                                                                                                                                                                                                                                |
| userPinCode                      | Pinkode. Til bruk både til autentisering og evt. signering                                                                                                                                                                                                                                                                                                                                                                                                             |
| ReporteeElementId                | Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på                                                                                                                                                                                                                                                                                                                                                                                                |
| EndUserSystemReference           | Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)                                                                                                                                                                                                                                                                                                                                                                                                     |
| FileName                         | Filnavn. Filavnet kan ikke inneholde tegn som ":" og "\".                                                                                                                                                                                                                                                                                                                                                                                                              |
| Name                             | Navn på vedlegg                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| AttachmentTypeName               | Type vedlegg                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CheckSum                         | Checksum for vedleggsdata                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| dataStream                       | Datastrøm                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **StreamedAttachmentBasicBE**    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| systemPassword                   | Passord for sluttbrukersystem definert i portal                                                                                                                                                                                                                                                                                                                                                                                                                        |
| systemUserName                   | Systemid for sluttbrukersystem definert i portal                                                                                                                                                                                                                                                                                                                                                                                                                       |
| userSSN                          | Brukers fødselsnummer. Til bruk både til autentisering og evt. signering                                                                                                                                                                                                                                                                                                                                                                                               |
| userPassword                     | Brukers passord. Til bruk både til autentisering og evt. signering                                                                                                                                                                                                                                                                                                                                                                                                     |
| ReporteeElementId                | Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på                                                                                                                                                                                                                                                                                                                                                                                                |
| EndUserSystemReference           | Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)                                                                                                                                                                                                                                                                                                                                                                                                     |
| FileName                         | Filnavn. Filavnet kan ikke inneholde tegn som ":" og "\".                                                                                                                                                                                                                                                                                                                                                                                                              |
| Name                             | Navn på vedlegg                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| AttachmentTypeName               | Type vedlegg                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CheckSum                         | Checksum for vedleggsdata                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| dataStream                       | Datastrøm                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **StreamedAttachmentECBE**       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| userName                         | Brukernavn opprettet i portal i forbindelse med virksomhetssertifikat                                                                                                                                                                                                                                                                                                                                                                                                  |
| password                         | Passord opprettet i portal i forbindelse med virksomhetssertifikat                                                                                                                                                                                                                                                                                                                                                                                                     |
| ReporteeElementId                | Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på                                                                                                                                                                                                                                                                                                                                                                                                |
| EndUserSystemReference           | Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)                                                                                                                                                                                                                                                                                                                                                                                                     |
| FileName                         | Filnavn Filavnet kan ikke inneholde tegn som ":" og "\".                                                                                                                                                                                                                                                                                                                                                                                                               |
| Name                             | Navn på vedlegg                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| AttachmentTypeName               | Type vedlegg                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CheckSum                         | Checksum for vedleggsdata                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| dataStream                       | Datastrøm                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

## Receipt

| Tjenesteoperasjon | Kort beskrivelse                                                                       |
| ----------------- | -------------------------------------------------------------------------------------- |
| GetReceiptListV2  | Henter ut alle kvitteringer tilhørende en kvitteringstype og/eller fra et gitt tidsrom |
| GetReceiptV2      | Henter ut en kvittering basert på enten unik identifikator eller referanse             |
| UpdateReceipt     | Kan benyttes av sluttbrukersystemer for å oppdatere en kvittering ved mottak av data.  |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

Det blir opprettet teknisk kvittering for hver forsendelse, basert på hvilke referanser sluttbrukersystemet setter. Dersom eksterne referanser gjenbrukes antar vi at det gjelder den samme forsendelsen, og oppdaterer tidligere kvittering. For at kvitteringer skal kunne hentes og oppdateres hensiktsmessig er det derfor viktig at sluttbrukersystem benytter unike referanser både på selve forsendelsen og underelementer av denne.

### GetReceiptV2

Denne operasjonen henter en kvittering basert på, enten unik identifikator for kvitteringen eller en referanse for kvitteringen. Kvitteringen kan være knyttet til et skjemasett innsendt via Altinn fra sluttbruker eller sluttbrukersystem, data sendt fra tjenesteeier til Altinn (meldinger, PIN-koder, abonnement eller prefilldata) eller data sendt fra Altinn til tjenesteeier.

Navnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceipt finnes fortsatt, men kan i fremtiden bli fjernet.

Tabellen under beskriver datakontrakten for operasjonen:

| Input          | Beskrivelse                                                                                                    |
| -------------- | -------------------------------------------------------------------------------------------------------------- |
| ReceiptSearch  | Objekt av typen ReceiptSearch som inneholder nødvendige søkeparametre for å hente ut en kvittering.            |
| **Returverdi** | **Beskrivelse**                                                                                                |
| Receipt        | Objekt av typen Receipt som inneholder alle data for en kvittering som tilfredsstilte det gitte søkekriteriet. |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property          | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ReceiptSearch** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ReceiptId         | Unik identifikator en kvittering i Altinn.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| References        | Liste med referansen som skal brukes i søket. I praksis er det kun en referanse som benyttes i søket. Følgende referansetyper kan benyttes i søk: ArchiveReference, OutboundShipmentReference, BatchReference, EndUserSystemReference, ExternalShipmentReference, SendersReference                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Receipt**       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ReceiptId         | Unik identifikator kvitteringen i Altinn                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ReceiptText       | Tekst i kvitteringen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ReceiptHistory    | Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| LastChanged       | Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ReceiptType       | Angir hva kvittering gjelder.Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ReceiptTemplate   | Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ReceiptStatus     | Status for forsendelse som kvitteringen gjelder:NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ParentReceiptId   | Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| References        | Liste med referanser                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| SubReceipts       | Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Reference**     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ReferenceType     | Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference- Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse |
| ReferenceValue    | Selve referansen (verdien). Vil variere basert på type referanse. Se over.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

Tabellen under angir mulige feilkoder for operasjonen:

| **Feilkode** | **Beskrivelse**                                                   |
| ------------ | ----------------------------------------------------------------- |
| 30008        | Ingen kvittering funnet for angitt kvitterings ID eller referanse |

### GetReceiptListV2

Denne operasjonen kan kalles for å hente ut alle kvitteringer av en gitt kvitteringstype. I tillegg kan søket begrenses ved hjelp av en til og fra dato. Dette vil gi en liste med kvitteringer som ble sist endret i tidsrommet. Kvitteringstyper er obligatorisk, mens datoer er valgfritt.

Navnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptListBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceiptList finnes fortsatt, men kan i fremtiden bli fjernet.

Tabellen under beskriver datakontrakten for operasjonen:

| Input           | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| receiptTypeName | Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent,  FormTask – Skjemasett innsending,  Correspondence – Innlesning av meldinger,  PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn,  PreFill – Innlesning av prefill,  RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste |
| dateFrom        | Finner kvitteringer endret etter angitt dato                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| dateTo          | Finner kvitteringer endret før angitt dato                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Returverdi**  | **Beskrivelse**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ReceiptList     | Liste med kvitteringer av typen Receipt. (Vil være en tom liste hvis ingen kvitteringer ble funnet.)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property        | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| --------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Receipt         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ReceiptId       | Unik identifikator kvitteringen i Altinn                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ReceiptText     | Tekst i kvitteringen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ReceiptHistory  | Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| LastChanged     | Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ReceiptType     | Angir hva kvittering gjelder. Mulige verdier:NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ReceiptTemplate | Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ReceiptStatus   | Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ParentReceiptId | Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| References      | Liste med referanser.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| SubReceipts     | Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Reference**   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ReferenceType   | Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse |
| ReferenceValue  | Selve referansen (verdien). Vil variere basert på type referanse. Se over                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                                                                        |
| -------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| 30101    | Kan ikke utføre et søk etter kvitteringer av typen NotSet. (NotSet er default verdi hvis receiptTypeName parameteret ikke oppgis.) |
| 30102    | Oppgitt fra dato er høyere en oppgitt til dato                                                                                     |

### UpdateReceipt

Operasjonen UpdateReceipt kan benyttes når tjenesteeier har behov for å oppdatere en kvittering i Altinn. Dette gjøres typisk når Altinn har sendt en batch forsendelse til tjenesteeier. Kvitteringen skal da oppdateres med at tjenesteeier har mottatt batch forsendelsen.

Altinn vil endre kvitteringsteksten til å inneholde informasjon om hvem som utførte oppdateringen. For eksempel: "Receipt updated by EndUserSystem: 355. &lt;ny tekst.&gt;"

Navnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel UpdateReceiptBasic på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn SaveReceipt
finnes fortsatt, men kan i fremtiden bli fjernet.

Tabellen under beskriver datakontrakten for operasjonen:

| Input          | Beskrivelse                                                                                                                                                                                                                                      |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ReceiptSave    | Informasjon om hvilken kvittering som skal oppdateres samt den nye informasjonen som skal legges på kvitteringen. Objektet må minimun inneholde ny statuskode og tekst. ReceiptId eller ArchiveReference brukes til å identifisere kvitteringen. |
| **Returverdi** | **Beskrivelse**                                                                                                                                                                                                                                  |
| Receipt        | Kvitteringen slik den frermstår etter oppdateringen                                                                                                                                                                                              |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property         | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ReceiptSave**  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ReceiptId        | Unik identifikator for kvittering i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ArchiveReference | Arkivreferanse i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres. Hvis det finnes flere kvitteringer som har samme arkivreferanse, så vil den nyeste (den med høyest ReceiptId) bli valgt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ReceiptText      | Oppdateringstekst for kvittering. Obligatorisk                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ReceiptStatus    | Status for forsendelse som kvitteringen gjelder.Obligatorisk: OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| References       | Liste med referanser man eventuelt ønsker å legge til på kvitteringen. Alle referansetyper utenom NotSet og OwnerPartyReference er gyldige, men det bør begrenses til følgende (Unntak kan gjøres etter avtale med forvaltning.)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| SubReceipts      | Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Receipt**      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ReceiptId        | Unik identifikator kvitteringen i Altinn.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ReceiptText      | Tekst i kvitteringen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ReceiptHistory   | Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| LastChanged      | Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ReceiptType      | Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ReceiptTemplate  | Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ReceiptStatus    | Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ParentReceiptId  | Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| References       | Liste med referanser                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| SubReceipts      | Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Reference**    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ReferenceType    | Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference- Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse |
| ReferenceValue   | Selve referansen (verdien). Vil variere basert på type referanse. Se over                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                                                          |
| -------- | -------------------------------------------------------------------------------------------------------------------- |
| 30008    | Fant ikke noen kvittering som kunne oppdateres                                                                       |
| 0        | Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en feil.)            |
| 0        | Søk må ha enten kvitterings id eller arkivreferanse som input. (Feilkode blir ikke angitt grunnet en feil.)          |
| 0        | System/bruker har ikke tilgang til kvitteringen som forsøkes oppdatert. (Feilkode blir ikke angitt grunnet en feil.) |

## Correspondence

| Tjenesteoperasjon                      | Kort beskrivelse                                                |
| -------------------------------------- | --------------------------------------------------------------- |
| GetCorrespondenceForEndUserSystemV2    | Benyttes for å hente detaljer for en spesifikk melding i Altinn |
| DeleteCorrespondence                   | Benyttes for å slette en melding i Altinn                       |
| SaveCorrespondenceConfirmation         | Benyttes for å bekrefte en melding i Altinn                     |
| ArchiveCorrespondenceFromEndUserSystem | Benyttes for å arkivere en melding i Altinn                     |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### Correspondence.GetCorrespondenceForEndUserSystemV2

Denne operasjonen benyttes for å hente detaljer for en spesifikk melding fra Altinn. Operasjonen er versjonert, gjeldende versjon er V2.

Tabellen under beskriver datakontrakten for operasjonen.

| Input                          | Beskrivelse                                                                                                                                                                                                        |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| userSSN                        | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                                                                                               |
| userPassword                   | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                                                                                                    |
| userPinCode                    | Pinkode for valgt engangskodetype (authMethod)                                                                                                                                                                     |
| authMethod                     | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er:AltinnPin, SMSPin                                                                            |
| correspondenceID               | Unik identifikator for en melding i Altinn                                                                                                                                                                         |
| LanguageID                     | Språkkode for det språket meldingen skal hentes med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk, Hvis ikke språk er spesifikt kan 0 angis som vil returnere standard språk for denne meldingen |  |
| **Returverdi**                 | **Beskrivelse**                                                                                                                                                                                                    |
| correspondenceForEndUserSystem | Et objekt av typen CorrespondenceForEndUserSystemBEV2 som inneholder alle detaljer om meldingen                                                                                                                    |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                               | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **CorrespondenceForEndUserSystemBEV2** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Correspondence                         | Objekt av typen CorrespondenceBEV2 som inneholder alle detaljer for selve meldingen.                                                                                                                                                                                                                                                                                                                                                                                                     |
| CorrespondenceLinkList                 | Liste med objekter av typen CorrespondenceLinkBE, som inneholder eventuelle linker for meldingen.                                                                                                                                                                                                                                                                                                                                                                                        |
| AttachmentList                         | Liste med objekter av typen AttachmentBE, som inneholder detaljer for eventuelle vedlegg for meldingen.                                                                                                                                                                                                                                                                                                                                                                                  |
| InternalNotificationList               | Liste med InternalNotification-objekter, som inneholder detaljer for eventuelle varsler for meldinger.                                                                                                                                                                                                                                                                                                                                                                                   |
| **CorrespondenceBEV2**                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| CorrespondenceID                       | Unik identifikator for meldingen                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| CorrespondenceStatus                   | Angir status for meldingen (CorrespondenceStautsTypeV2): Created-Meldingen er opprettet, Read-Meldingen er lest, Replied-Sluttbruker har svart på meldingen, ChangedByGovAgency-Tjenesteeier har gjort endringer på meldingen, ChangedByUser-Sluttbruker har gjort endringer på meldingen, Confirmed-Meldingen er bekreftet, DeletedByUser-Meldingen er slettet av sluttbruker, DeletedByAltinn-Altinn har slettet meldingen (for eksempel ved sanering), Archived-Meldingen er arkivert |
| ArchiveReference                       | Unik referanse for melding i Altinn arkiv                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| LanguageID                             | Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CorrespondenceSummary                  | Meldingsingress                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| CorrespondenceSummary                  | Meldingsingress                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| CorrespondenceTxt                      | Tekst i meldingen                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Header                                 | Meldings tittel / hode                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| SentBy                                 | Angir avsender av melding                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| CorrespondenceSubject                  | Angir emne for meldingen                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| IsConfirmationNeeded                   | Angir om bruker må bekrefte melding                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| SentTo                                 | Navn på mottaker av melding                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| DateSent                               | Angir dato og tidspunkt for når meldingen var sendt (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                                                                                                                                                                                                                |
| DueDate                                | Dersom meldingen har en frist angis dato for dette her (yyyy-MM-dd)                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Reportee                               | Unik identifikator i Altinn for mottaker av melding                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| AuthenticatedUser                      | Angir bruker som har bekreftet melding                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ConfirmationDate                       | Angir dato for når meldingen ble bekreftet (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                                                                                                                                                                                                                         |
| UserID                                 | Angir bruker som har bekreftet melding                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Description                            | Navn på tjenesteeier som opprettet meldingen                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| CorrespondenceName                     | Navn på meldingstjenesten                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ExternalSystemReference                | Angir unik referanse for meldingen (satt av tjenesteeier)                                                                                                                                                                                                                                                                                                                                                                                                                                |
| CorrespondenceTitle                    | Tittel på melding                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| CustomMessageData                      | Felt for attributter spesifikke for den gitte Altinn tjeneste. For eksempel informasjon om kommunenummer på selvangivelsen. Bruk av spesifikke attributter avtales spesielt for de(n) aktuelle Altinn-tjenesten(e)                                                                                                                                                                                                                                                                       |
| AllowForwarding                        | Angir om meldingen kan videresendes eller ikke                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CaseID                                 | Angir samhandlingstjeneste case ID om meldingen er tilknyttet en samhandlingstjeneste                                                                                                                                                                                                                                                                                                                                                                                                    |
| **CorrespondenceLinkBE**               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| LinkType                               | Angir hvilken type informasjon linken gir: Form, ServiceCode, ServiceURL, ArchiveReference                                                                                                                                                                                                                                                                                                                                                                                               |
| LinkURL                                | Angir URL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| LinkText                               | Angir teksten som vises for linken                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **AttachmentBEV2**                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| AttachmentID                           | Unik identifikator for vedlegget i Altinn.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| AttachmentName                         | Navn på vedlegget                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| FileName                               | Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som ":" og "\".                                                                                                                                                                                                                                                                                                                                                                                                                |
| AttachmentData                         | Innholdet/dataene i vedlegget                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| CreatedDateTime                        | Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                                                                                                                                                                                                                  |
| SendersReference                       | Unik referanse satt av etatssystem som har sendt vedlegget                                                                                                                                                                                                                                                                                                                                                                                                                               |
| IsEncrypted                            | Boolsk verdi som sier om vedlegget er kryptert                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| AttachmentTypeID                       | MIME-typen for vedlegget:                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| AttachmentFunctionTypeID               | Angir funksjon for vedlegget: Unspecified, Invoice                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ReporteeElementID                      | Referanse til element (skjemasett eller melding) som vedlegget tilhører. Unik id i Altinn.                                                                                                                                                                                                                                                                                                                                                                                               |
| CreatedByUserID                        | Bruker id for bruker som har lagt ved vedlegget.                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| IsAddedAfterFormFillin                 | Angir om vedlegget er lagt til etter utfylling.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IsAssociatedToFormSet                  | Angir om vedlegget er knyttet til skjemasett eller ikke                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| DestinationType                        | Angir hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem                                                                                                                                                                                                                                                                           |

### Correspondence.DeleteCorrespondence

Denne operasjonen kan benyttes av sluttbrukersystemer for å slette en aktiv melding i Altinn.

Tabellen under beskriver datakontrakten for operasjonen.

| Input             | Beskrivelse                                                                                                                               |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN           | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                      |
| userPassword      | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                           |
| userPinCode       | Pinkode for valgt engangskodetype (authMethod)                                                                                            |
| authMethod        | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er:  AltinnPin, SMSPin |
| reporteeElementID | Unik identifikator for en melding i Altinn                                                                                                |


| Returverdi | Beskrivelse                         |
| ---------- | ----------------------------------- |
| N/A        | Returnerer ingenting hvis alt er OK |

### Correspondence.SaveCorrespondenceConfirmation

Denne operasjonen kan benyttes av sluttbrukersystemer for å bekrefte en melding i Altinn.

Tabellen under beskriver datakontrakten for operasjonen.

| Input             | Beskrivelse                                                                                                                               |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN           | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                      |
| userPassword      | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                           |
| userPinCode       | Pinkode for valgt engangskodetype (authMethod)                                                                                            |
| authMethod        | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er:  AltinnPin, SMSPin |
| reporteeElementID | Unik identifikator for en melding i Altinn                                                                                                |
| Returverdi        | Beskrivelse                                                                                                                               |
| N/A               | Returnerer ingenting hvis alt er OK                                                                                                       |

### Correspondence.ArchiveCorrespondenceFromEndUserSystem

Denne operasjonen kan benyttes av sluttbrukersystemer for å arkivere en melding i Altinn.

Tabellen under beskriver datakontrakten for operasjonen.

| Input             | Beskrivelse                                                                                                                               |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN           | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                      |
| userPassword      | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                           |
| userPinCode       | Pinkode for valgt engangskodetype (authMethod)                                                                                            |
| authMethod        | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er:  AltinnPin, SMSPin |
| reporteeElementID | Unik identifikator for en melding i Altinn                                                                                                |
| Returverdi        | Beskrivelse                                                                                                                               |
| Receipt           | Objekt av typen ReceiptBE med kvitteringsinformasjon for forsendelsen                                                                     |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property          | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ReceiptBE**     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ReceiptId         | Unik identifikator kvitteringen i Altinn. Benyttes for eksempel for senere uthenting av status/kvittering.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ReceiptText       | Tekst i kvitteringen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ReceiptHistory    | Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| LastChanged       | Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ReceiptTypeName   | Angir hva kvittering gjelder. Mulige verdier: FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste                                                                                                                                                                                                                                                                                                                                              |
| ReceiptTemplate   | Angir malen (XML) som skal benyttes for kvittering                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ReceiptStatusCode | Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ParentReceiptId   | Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| References        | Liste med ReferenceBE-objekter for kvitteringen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| SubReceipts       | Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **ReferenceBE**   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ReferenceValue    | Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ReferenceTypeName | Angir type referanse: ExternalShipmentReference-Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference-Benyttes ikke, SendersReference-Referanse satt av avsender for del av en forsendelse, ParentReference-Referansen viser til et hovedskjema, WorkFlowReference-Arbeidsflytreferanse, BatchReference-Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference-Referanse til en forsendelse sendt fra Altinn, ReceiversReference-Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference-Referanse til eier av kvittering, fødselsnummer eller organisasjonsnummer, PartyReference-Referanse til aktør for kvittering, fødselsnummer eller organisasjonsnummer, ArchiveReference-Arkivreferanse |

## ReporteeElementList

| Tjenesteoperasjon                  | Kort beskrivelse                                           |
| ---------------------------------- | ---------------------------------------------------------- |
| GetReporteeElementListV2           | Henter en liste med elementer fra arbeidsliste og arkiv.   |
| DeleteReporteeElement              | Benyttes for å slette et element i arbeidsliste i Altinn   |
| GetFormSetElementsV2               | Henter ut et spesifikt skjemasett basert på en gitt ID     |
| GetCorrespondenceListForArchiveRef | Henter ut arkivert melding basert på bl.a. arkiv referanse |
| GetCorrespondenceListForReportee   | Henter ut meldinger for en gitt avgiver                    |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### ReporteeElementList.DeleteReporteeElement

Denne operasjonen benyttes for å slette elementer i en avgivers arbeidsliste eller arkiv. GetReporteeReporteeElementList kalles gjerne i forkant av kall til denne tjenesten for å hente og identifisere et element og finne identifikator (reporteeElementCode) for det elementet man ønsker å slette.

Tabellen under beskriver datakontrakten for operasjonen.

| Input               | Beskrivelse                                                                                                                                                                                                                                                                                |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| reporteeElementCode | Unik identifikator for et element i Altinn. Denne er sammensatt av et prefiks som beskriver hvilken type elementet har og elementets retporteeElementID. ulige prefiks for element typer: Altinn 1,  aktivt: A1E.  Altinn 1, arkivert: A1A. Altinn 2, aktivt:A2E.  Altinn 2, arkivert: A2A |
| **Returverdi**      | **Beskrivelse**                                                                                                                                                                                                                                                                            |
| Result              | Angir om elementet ble slettet                                                                                                                                                                                                                                                             |

### ReporteeElementList.GetFormSetElementsV2

Henter ut et spesifikt skjemasett basert på en gitt ID. Operasjonen er versjonert, gjeldende versjon er V2.

Tabellen under beskriver datakontrakten for operasjonen.

| Input              | Beskrivelse                                                                                                 |
| ------------------ | ----------------------------------------------------------------------------------------------------------- |
| reporteeElementID  | Identifikator for skjemasett man ønsker å hente ut                                                          |
| languageID         | Språk id:  Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk                                   |
| Returverdi         | Beskrivelse                                                                                                 |
| FormSetElementList | Liste med objekter av typen FormSetElementBEV2, som beskriver skjemaene i skjemasett man ønsker å hente ut. |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| **Property**           | **Beskrivelse**                                                                                                                                                                                                |
| ---------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **FormSetElementBEV2** |                                                                                                                                                                                                                |
| IconFileName           | MIME-typen                                                                                                                                                                                                     |
| ItemID                 |                                                                                                                                                                                                                |
| ItemName               |                                                                                                                                                                                                                |
| ItemURL                | URL for elementet.                                                                                                                                                                                             |
| ItemType               | Angir type element: MainForm, SubForm, BinaryAttachment                                                                                                                                                        |
| ValidationStatusType   | Angir valideringsstatus for elementet: NotSet, Valid, NonValid, NotValidated, NotApplicable                                                                                                                    |
| CreatedByUserID        | Bruker id for bruker som har opprettet elementet                                                                                                                                                               |  |
| DestinationType        | Angir hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem |
| IsAddedAfterFormFillin | Angir om vedlegget er lagt til etter utfylling                                                                                                                                                                 |
| IsAssociatedToFormSet  | Angir om vedlegget er knyttet til skjemasett eller ikke – brukes for å slette vedlegg som er lastet opp men ikke lagt til skjemasettet.                                                                        |
| IsSigningMandatory     | Angir om skjema krever signering eller ikke. Verdien her er kun gjeldende om signeringssteget sier at skjema selv bestemmer signering (IsSigningAllRequired satt til SET_PER_FORM)                             |

### ReporteeElementList.GetReporteeElementListV2

Henter en liste med elementer fra arbeidsliste og arkiv. Listen inneholder detaljer for ett element for en avgiver. Operasjonen er versjonert, gjeldende versjon er V2.

Tabellen under beskriver datakontrakten for operasjonen.

| Input               | Beskrivelse                                                                                                                                                                                               |
| ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN             | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                                                                                      |
| userPassword        | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                                                                                           |
| userPinCode         | Pinkode for valgt engangskodetype (authMethod)                                                                                                                                                            |
| authMethod          | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin                                                                  |
| Search              | Objekt av typen ExternalSearchBEV2 som inneholder søkekriterier for utvalget elementer man ønsker å hente ut.                                                                                             |
| languageID          | Språkkode på elementet som skal hentess ut. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk, Hvis ikke språk er spesifikt kan 0 angis som vil returnere standard språk for denne meldingen |
| **Returverdi**      | **Beskrivelse**                                                                                                                                                                                           |
| reporteeElementList | En liste med ReporteeElementBEV2-objekter som inneholder detaljer for ett element for en avgiver                                                                                                          |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                      | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ----------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ExternalSearchBEV2**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ToDate                        | Startdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd).                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| FromDate                      | Sluttdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd).                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| SearchName                    | Navn på søk. Benyttes kun dersom dette er et lagret søk.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ToBeProcessed                 | Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er ufullstendige/ikke-komplett.                                                                                                                                                                                                                                                                                                                                                                                                                          |
| SearchString                  | Fritekstsøk som kan brukes for å matche hele eller deler av tjenestenavnet på elementer man ønsker å hente ut.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ServiceCodeList               | Liste med tjenester (string) som man ønsker å filtrere på.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| SentAndArchived               | Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er sendt og arkivert.                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ToBeProcessedByOthers         | Filter for å angi at man bare ønsker å se sine elementer som i øyeblikket er til behandling hos andre aktører                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ServiceOwnerCode              | Tjenesteeier som man ønsker å filtrere utrekket på.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Reportee                      | Fødselsnummer/organisasjonsnummer for avgiver som man ønsker å hente ut elementer for.                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ArchiveReference              | Fritekstfelt hvor man kan angi hele eller deler av en arkivreferanse som man ønsker å filtrere på.                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| CaseID                        | Begrenser søket mot bestemt samhandlingstjenesteinstans.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| CollectionPages               | Benyttes for å begrense resultatet til samlesider (samhandlingstjeneste)                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| EDialogue                     | Benyttes for å begrense resultatet til e-dialoger (samhandlingstjeneste)                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **ReporteeElementBEV2**       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| AllowDelete                   | En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| AllowNewCopy                  | Boolsk verdi som sier om man kan opprette kopi av elementet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Altinn1ArchiveUnitId          | Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Altinn1FormCode               | Angir skjema id i AltinnI. Behøver ikke settes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Altinn1FormId                 | Angir skjema versjon AltinnI. Behøver ikke settes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Altinn1FormInstanceID         | Angir element id i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Altinn1FormORNo               | Angir OR-id i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Altinn1ParticipantID          | Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Altinn1ReferenceType          | Angir referansetype satt i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Altinn1WorkflowProcessId      | Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ArchiveId                     | Unik identifikator for elementet i arkiv.  ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen.                                                                                                                                                                                                                                                                                                                                                                                                           |
| ArchiveReference              | Unik arkivreferanse som vises for elementet på avgivers hovedside.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| CaseID                        | Eventuelt referanse til samhandlingstjeneste elementet er knyttet opp mot                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| CorrespondenceStatus          | Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser -Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser -Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering), Archived - Meldingen er arkivert |
| DueDate                       | Frist på elementet. Ikke satt for elementer i arkiv.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EndUserSystemID               | Id som benyttes for å hente navn på sluttbrukersystem                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ExternalServiceCode           | Tjenestekode for elementet, for eksempel ”PSA”                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| IsCaseArchived                | Angir om samhandlingstjenesten er arkivert.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| IsMatched                     | Intern parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| LastChangedBy                 | Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| LastChangedByID               | Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| LastChangedDate               | Dato for når elementet sist ble endret (yyyy-MM-dd).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| LastChangeType                | Type endring som ble gjort sist elementet ble endret:   Sent, Saved, Archived                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Notice                        | Eventuell merknad på elementet tilhørende en samhandlingstjeneste.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ParentCaseName                | Eventuelt navn på samhandlingstjenesten elementet er knyttet mot                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ReporteeElementCode           | Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A                                                                                                                                                                                                                                                                                                                                                                                                 |
| ReporteeElementId             | Unik identifikator for elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ReporteeElementOwner          | Unik identifikator for avgiver som elementet tilhører.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ReporteeElementType           | Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste, Collaboration -samhandlingstjeneste, LookUp - innsynstjeneste                                                                                                                                                                                                                                                                                                                                                                                                 |
| ReporteeName                  | Navn på avgiver som vises for elementet i avgivers hovedside.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| RoleRequirement               | Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| RoleRequirementAltinn1Element | Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.                                                                                                                                                                                                                                                                                                                                                                        |
| SEReporteeElementID           | Unik identifikator for elementet brukt før det arkiveres.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ServiceEditionVersion         | Angir versjon på tjenesten.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ServiceOwner                  | Angir tjenesteeier som tilbyr tjenesten som elementet tilhører.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ServiceOwnerCode              | Tjenesteeierkode brukt for å angi tjenesteeier navn                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ServiceOwnerDescription       | Tjenesteeiers navn.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Status                        | Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn, Active, Finished                                                                                                                                                                                                                                                                                                                                                             |
| Statusname                    | Navn på status (med språkstøtte).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| TaskStatus                    | Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling - Innsendingstjenesten er under utfylling, Signing - Innsendingstjenesten er klar for signering,  SendIn - Innsendingstjenesten er klar for innsending, ParallelSigning - Innsendingstjenesten er til brukerstyrt signering, Archive - nnsendingstjenesten er arkivert                                                                                                                                     |
| Title                         | Tittel på elementet som vises i avgivers hovedside                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

### ReporteeElementList.GetCorrespondenceListForArchiveRef

Henter ut arkiverte melding(er) basert på arkiv ID.

Tabellen under beskriver datakontrakten for operasjonen.

| Input               | Beskrivelse                                                                                     |
| ------------------- | ----------------------------------------------------------------------------------------------- |
| reportee            | Fødselsnummer eller organisasjonsnummer for avgiver                                             |
| archiveReference    | Arkivreferanse i Altinn                                                                         |
| fromDate            | Hvis satt, må alle returnerte elementer ha dato større enn denne                                |
| toDate              | Hvis satt, må alle returnerte elementer ha dato mindre enn denne                                |
| languageID          | Filtrerer på språk:  1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk                       |
| **Returverdi**      | **Beskrivelse**                                                                                 |
| reporteeElementList | En liste med ReporteeElementBE-objekter som inneholder detaljer for ett element for en avgiver. |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                      | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ReporteeElementBE**         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| AllowDelete                   | En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.                                                                                                                                                                                                                                                                                                                                                                                                      |
| AllowNewCopy                  | Boolsk verdi som sier om man kan opprette kopi av elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Altinn1ArchiveUnitId          | Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                        |
| Altinn1FormCode               | Angir skjema id i AltinnI. Behøver ikke settes                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Altinn1FormId                 | Angir skjema versjon AltinnI. Behøver ikke settes                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Altinn1FormInstanceID         | Angir element id i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Altinn1FormORNo               | Angir OR-id i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Altinn1ParticipantID          | Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Altinn1ReferenceType          | Angir referansetype satt i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Altinn1WorkflowProcessId      | Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                               |
| ArchiveId                     | Unik identifikator for elementet i arkiv. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen                                                                                                                                                                                                                                                                                                                                                                            |
| ArchiveReference              | Unik arkivreferanse som vises for elementet på avgivers hovedside.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| CorrespondenceStatus          | Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser - Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser -Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering) |
| DueDate                       | Frist på elementet. Ikke satt for elementer i arkiv                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EndUserSystemID               | Id som benyttes for å hente navn på sluttbrukersystem                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ExternalServiceCode           | Tjenestekode for elementet, for eksempel ”PSA”                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| LastChangedBy                 | Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                |
| LastChangedByID               | Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| LastChangedDate               | Dato for når elementet sist ble endret (yyyy-MM-dd).                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| LastChangeType                | Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ReporteeElementCode           | Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A                                                                                                                                                                                                                                                                                                                                                                |
| ReporteeElementId             | Unik identifikator for elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ReporteeElementOwner          | Unik identifikator for avgiver som elementet tilhører.                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ReporteeElementType           | Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ReporteeName                  | Navn på avgiver som vises for elementet i avgivers hovedside.                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| RoleRequirement               | Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| RoleRequirementAltinn1Element | Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.                                                                                                                                                                                                                                                                                                                                       |
| ServiceOwner                  | Angir tjenesteeier som tilbyr tjenesten som elementet tilhører.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ServiceOwnerCode              | Tjenesteeierkode brukt for å angi tjenesteeier navn                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Status                        | Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn                                                                                                                                                                                                                                                                                                                                              |
| Statusname                    | Navn på status (med språkstøtte)                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| TaskStatus                    | Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling - Innsendingstjenesten er under utfylling, Signing - Innsendingstjenesten er klar for signering, SendIn - Innsendingstjenesten er klar for innsending                                                                                                                                                                                                                     |
| Title                         | Tittel på elementet som vises i avgivers hovedside.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

### ReporteeElementList.GetCorrespondenceListForReportee

Henter ut meldinger for en avgiver.

Tabellen under beskriver datakontrakten for operasjonen.

| Input               | Beskrivelse                                                                                     |
| ------------------- | ----------------------------------------------------------------------------------------------- |
| reportee            | Fødselsnummer eller organisasjonsnummer for avgiver                                             |
| fromDate            | Hvis satt, må alle returnerte elementer ha dato større enn denne                                |
| toDate              | Hvis satt, må alle returnerte elementer ha dato mindre enn denne                                |
| languageID          | Filtrerer på språk: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk                        |
| Returverdi          | Beskrivelse                                                                                     |
| reporteeElementList | En liste med ReporteeElementBE-objekter som inneholder detaljer for ett element for en avgiver. |

Tabellen under beskriver datakontrakten for operasjonen

| Property                      | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ReporteeElementBE**         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| AllowDelete                   | En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.                                                                                                                                                                                                                                                                                                                                                                                                      |
| AllowNewCopy                  | Boolsk verdi som sier om man kan opprette kopi av elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Altinn1ArchiveUnitId          | Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                        |
| Altinn1FormCode               | Angir skjema id i AltinnI. Behøver ikke settes                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Altinn1FormId                 | Angir skjema versjon AltinnI. Behøver ikke settes                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Altinn1FormInstanceID         | Angir element id i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Altinn1FormORNo               | Angir OR-id i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Altinn1ParticipantID          | Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Altinn1ReferenceType          | Angir referansetype satt i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Altinn1WorkflowProcessId      | Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.                                                                                                                                                                                                                                                                                                                                                                                                               |
| ArchiveId                     | Unik identifikator for elementet i arkiv                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ArchiveReference              | Unik arkivreferanse som vises for elementet på avgivers hovedside                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| CorrespondenceStatus          | Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser -Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser - Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering) |
| DueDate                       | Frist på elementet. Ikke satt for elementer i arkiv                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EndUserSystemID               | Id som benyttes for å hente navn på sluttbrukersystem                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ExternalServiceCode           | Tjenestekode for elementet, for eksempel ”PSA”                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| LastChangedBy                 | Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| LastChangedByID               | Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet                                                                                                                                                                                                                                                                                                                                                                                                                  |
| LastChangedDate               | Dato for når elementet sist ble endret (yyyy-MM-dd).                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| LastChangeType                | Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ReporteeElementCode           | Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A                                                                                                                                                                                                                                                                                                                                                                |
| ReporteeElementId             | Unik identifikator for elementet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ReporteeElementOwner          | Unik identifikator for avgiver som elementet tilhører                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ReporteeElementType           | Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ReporteeName                  | Navn på avgiver som vises for elementet i avgivers hovedside                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| RoleRequirement               | Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| RoleRequirementAltinn1Element | Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.                                                                                                                                                                                                                                                                                                                                       |
| ServiceOwner                  | Angir tjenesteeier som tilbyr tjenesten som elementet tilhører                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ServiceOwnerCode              | Tjenesteeierkode brukt for å angi tjenesteeier navn                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Status                        | Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn                                                                                                                                                                                                                                                                                                                                              |
| Statusname                    | Navn på status (med språkstøtte).                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| TaskStatus                    | Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling, - Innsendingstjenesten er under utfylling, Signing -Innsendingstjenesten er klar for signering, SendIn -Innsendingstjenesten er klar for innsending                                                                                                                                                                                                                      |
| Title                         | Tittel på elementet som vises i avgivers hovedside.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

## ServiceMetadata

| Tjenesteoperasjon            | Kort beskrivelse                                                              |
| ---------------------------- | ----------------------------------------------------------------------------- |
| GetAvailableServices         | Henter en liste med gyldige tjenester i Altinn                                |
| GetFormTaskSchemaDefinitions | Henter spesifikasjoner (.xsd) for alle skjemaer i en gitt innsendingstjeneste |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### ServiceMetadata.GetAvailableServicesV2

Denne operasjonen returnerer en liste med gyldige tjenester i Altinn. Operasjonen er versjonert, og finnes i både V2 og V3 versjon som tilbyt noe ulik funksjonalitet.

Tabellen under beskriver datakontrakten for operasjonen.

| Input                | Beskrivelse                                                                                                                                                   |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| languageID           | Språk kode for å filtrere tjenester. Hvis 0 angis blir verdien satt til standard språkvalg. Språkkoder:  1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk |
| Returverdi           | Beskrivelse                                                                                                                                                   |
| availableServiceList | Liste med AvailableServiceBEV2-objekter som inneholder detaljer for en gyldig innsendingstjeneste.                                                            |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                   | Beskrivelse                                                                                                                                              |
| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **AvailableServiceBEV2**   |                                                                                                                                                          |
| ServiceOwnerCode           | Kode for tjenesteeier som tilbyr denne tjenesten                                                                                                         |
| ServiceOwnerName           | Navn på tjenesteeier som tilbyr tjenesten                                                                                                                |
| ServiceName                | Navn på tjenesten                                                                                                                                        |
| ExternalServiceCode        | Angir kode for tjenesten, for eksempel ”PSA”                                                                                                             |
| ExternalServiceEditionCode | Angir utgave av tjenesten, for eksempel ”2009”                                                                                                           |
| ServiceEditionVersionName  | Angir versjon på tjenesten                                                                                                                               |
| ServiceEditionVersionId    | Angir identifikator for versjonen av tjenesten                                                                                                           |
| ValidFrom                  | Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss)                                                                                 |
| ValidTo                    | Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss)                                                                                 |
| BuildPackageVersion        | Et unikt versjonsnummer internt i Altinn                                                                                                                 |
| IsMatched                  | Intern parameter                                                                                                                                         |
| ServiceType                | Angir type tjeneste:  Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup –Iinnsynstjeneste |

### ServiceMetadata.GetAvailableServicesV3

Denne operasjonen returnerer en liste med gyldige tjenester i Altinn, filtrert på søkeparameterene som blir sendt inn. Operasjonen er versjonert, siste versjon er V3.

Tabellen under beskriver datakontrakten for operasjonen.

| Property                   | Beskrivelse                                                                                                                                             |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **AvailableServiceBEV2**   |                                                                                                                                                         |
| ServiceOwnerCode           | Kode for tjenesteeier som tilbyr denne tjenesten.                                                                                                       |
| ServiceOwnerName           | Navn på tjenesteeier som tilbyr tjenesten.                                                                                                              |
| ServiceName                | Navn på tjenesten.                                                                                                                                      |
| ExternalServiceCode        | Angir kode for tjenesten, for eksempel ”PSA”.                                                                                                           |
| ExternalServiceEditionCode | Angir utgave av tjenesten, for eksempel ”2009”.                                                                                                         |
| ServiceEditionVersionName  | Angir versjon på tjenesten.                                                                                                                             |
| ServiceEditionVersionId    | Angir identifikator for versjonen av tjenesten.                                                                                                         |
| ValidFrom                  | Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).                                                                               |
| ValidTo                    | Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).                                                                               |
| BuildPackageVersion        | Et unikt versjonsnummer internt i Altinn                                                                                                                |
| IsMatched                  | Intern parameter.                                                                                                                                       |
| ServiceType                | Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                     | Beskrivelse                                                                                                                                             |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ServicesSearchExternalBE** |                                                                                                                                                         |
| ServiceType                  | Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste |
| ServiceOwnerCode             | Kode for tjenesteeier som tilbyr denne tjenesten.                                                                                                       |
| ExternalServiceCode          | Angir kode for tjenesten, for eksempel ”PSA”.                                                                                                           |
| ExternalServiceEditionCode   | Angir utgave av tjenesten, for eksempel ”2009”.                                                                                                         |
| **AvailableServiceBEV3**     |                                                                                                                                                         |
| ServiceOwnerCode             | Kode for tjenesteeier som tilbyr denne tjenesten.                                                                                                       |
| ServiceOwnerName             | Navn på tjenesteeier som tilbyr tjenesten.                                                                                                              |
| ServiceName                  | Navn på tjenesten.                                                                                                                                      |
| ExternalServiceCode          | Angir kode for tjenesten, for eksempel ”PSA”.                                                                                                           |
| ExternalServiceEditionCode   | Angir utgave av tjenesten, for eksempel ”2009”.                                                                                                         |
| ServiceEditionVersionName    | Angir versjon på tjenesten.                                                                                                                             |
| ServiceEditionVersionId      | Angir identifikator for versjonen av tjenesten.                                                                                                         |
| ValidFrom                    | Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).                                                                               |
| ValidTo                      | Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).                                                                               |
| BuildPackageVersion          | Et unikt versjonsnummer internt i Altinn                                                                                                                |
| IsMatched                    | Intern parameter.                                                                                                                                       |
| ServiceType                  | Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste |
| AttachmentRuleTypeBEList     | Liste som angir hvilke vedleggstyper som er knyttet til tjenesten                                                                                       |
| **AttachmentRuleTypeBE**     |                                                                                                                                                         |
| AttachmentTypeName           | Unikt navn for vedleggstypen, benyttes for å spesifisere vedleggstype når vedlegg sendes inn.                                                           |
| AttachmentTypeNameLanguage   | Visningsnavn for vedleggstypen basert på angitt språk.                                                                                                  |
| MinAttachmentCount           | Minimum antall vedlegg av denne typen som må være med for å etterfølge kravene for vedleggstypen.                                                       |
| MaxAttachmentCount           | Maksimum antall vedlegg av denne typen som må være med for å etterfølge kravene for vedleggstypen.                                                      |
| MaxFileSize                  | Maksimum tillatt filstørrelse for vedleggstypen.                                                                                                        |
| AllowedFileTypes             | Kommaseparert liste over tillatte filtypeendelser for vedleggstypen.                                                                                    |
| IsXSDValidationRequired      | Verdi som angir om XSD validering av vedlegg vil bli gjort for denne vedleggstypen. XSD kan mottas fra tjenesteeier.                                    |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                |
| -------- | -------------------------------------------------------------------------- |
| 30013    | Angitt ExternalServiceCode er på ugyldig format                            |
| 30005    | Angitt ServiceOwnerCode er på ugyldig format                               |
| 40039    | Når ExternalServiceEditionCode er angitt må også ExternalServiceCode angis |

### ServiceMetadata.GetFormTaskSchemaDefinitions

Denne operasjonen returnerer spesifikasjoner (.xsd) for alle skjemaer i en gitt innsendingstjeneste.

Tabellen under beskriver datakontrakten for operasjonen.

| Input                           | Beskrivelse                                                                                              |
| ------------------------------- | -------------------------------------------------------------------------------------------------------- |
| externalServiceCode             | Angir tjenestekode på innsendingstjenesten man ønsker å hente spesifikasjoner for                        |
| externalServiceEditionCode      | Angir tjenesteutgavekode for innsendingstjeneste                                                         |
| **Returverdi**                  | **Beskrivelse**                                                                                          |
| logicalFormSchemaDefinitionList | Liste med LogicalFormSchemaDefinitionBE-objekter som inneholder meldingsspesifikasjon for et gitt skjema |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                          | Beskrivelse                                                                               |
| --------------------------------- | ----------------------------------------------------------------------------------------- |
| **LogicalFormSchemaDefinitionBE** |                                                                                           |
| LogicalFormID                     | Unik identifikator for et gitt skjema i Altinn                                            |
| DataFormatXsd                     | Meldingsspesifikasjon for skjemaet                                                        |
| DataFormatProviderTypeID          |                                                                                           |
| DataFormatID                      | Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør         |
| DataFormatVersion                 | Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon) |

## Workflow

| Tjenesteoperasjon                       | Kort beskrivelse                                                                                                                                     |
| --------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| DoSendingInAction                       | Setter arbeidsflyt til neste steg i forhold til et skjemasett hvis skjema utfylling er ferdig og dette skjema ikke har definert noen signeringssteg. |
| DoSigning                               | Utfører signering hvis en skjemasett lå klart til signering                                                                                          |
| GetAvailableActionsV2                   | Returnerer hvilken handling som er mulig å utføre for en gitt innsendingstjeneste i Altinn                                                           |
| GetNextWorkflowStateTypeInProcessFlowV2 | Denne operasjonen returnerer neste steg (steget etter gjeldende steg) i arbeidsflyt for en gitt innsendingstjeneste                                  |
| GetProcessDetailsV2                     | Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres    |
| GetSigningText                          | Henter ut signeringsteksten for et element i Altinn                                                                                                  |
| SetBackToFormFilling                    | Kan kalles fra et sluttbrukersystem for å sette en innsendingstjeneste i Altinn tilbake til utfyllingssteg                                           |
| PrepareUserControlledSigningBasic       | Benyttes til å sette opp det brukerstyrte signeringssteget                                                                                           |
| GetProcessStepIDForParallelSigningBasic | Henter stegnummeret for det brukerstyrte signeringssteget                                                                                            |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### Workflow.DoSendingInAction

DoSendingInAction kan kalles fra et sluttbrukersystem for å sende inn en innsendingstjeneste (uten signeringssteg) som allerede ligger ferdig utfylt i Altinn.

Tabellen under beskriver datakontrakten for operasjonen.

| Input             | Beskrivelse                                                                                                                              |
| ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN           | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                     |
| userPassword      | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                          |
| userPinCode       | Pinkode for valgt engangskodetype (authMethod)                                                                                           |
| authMethod        | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin |
| reporteeElementID | Angir element i Altinn som skal sendes inn                                                                                               |
| Returverdi        | Beskrivelse                                                                                                                              |
| N/A               |                                                                                                                                          |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                                                       |
| -------- | ----------------------------------------------------------------------------------------------------------------- |
| 60035    | Man har prøvd å arkivere et ReporteeElement som allerede er arkivert                                              |
| 60037    | Man har prøvd å sende inn et ReporteeElement som ikke har blitt validert, da element ikke er i en completed state |

### Workflow.DoSigning

DoSigning kan kalles fra et sluttbrukersystem for å signere en innsendingstjeneste som ligger klart til signering i Altinn. Dersom dette er siste signeringssteg vil tjenesten også sendes inn.

Listen med FormID og AttachmentID som skal signeres kan hentes av sluttbrukersystemet ved å gjøre et kall til ReporteeElementList.GetFormSetElementsV2 i ReporteeElementList endepunktet.

ReporteeElementListExternalBasic.GetFormSetElementsBasicV2\[reporteeElementID\] returnerer:

```xml
*Når Vedlegg:*
&lt;b:ItemID&gt;184863&lt;/b:ItemID&gt;
&lt;b:ItemName&gt;Chrysanthemum.jpg&lt;/b:ItemName&gt;
&lt;b:ItemType&gt;BinaryAttachment&lt;/b:ItemType&gt;
*For HovedSkjema:*
&lt;b:ItemID&gt;109813&lt;/b:ItemID&gt;
&lt;b:ItemName&gt;RF-1215 Selskapsoppgave for deltakerliknet selskap
2012&lt;/b:ItemName&gt;
&lt;b:ItemType&gt;MainForm&lt;/b:ItemType&gt;
&lt;b:ItemURL&gt;PrintPDF.aspx?FormId=109813&lt;/b:ItemURL&gt;
*Når Underskjema:*
&lt;b:ItemID&gt;109814&lt;/b:ItemID&gt;
&lt;b:ItemName&gt;RF-1233 Selskapets oppgave over deltakerens formue og
inntekt i deltakerliknet selskap 2012&lt;/b:ItemName&gt;
&lt;b:ItemType&gt;SubForm&lt;/b:ItemType&gt;
&lt;b:ItemURL&gt;PrintPDF.aspx?FormId=109814&lt;/b:ItemURL&gt;
&lt;b:ValidationStatusType&gt;Valid&lt;/b:ValidationStatusType&gt;
Parameterer ItemID gir korrelert verdi som skal benyttes i
WorkflowServiceExternalBasic.DoSigningBasic for å utføre signering av
valgte skjema/vedlegg:
&lt;ns:selectedForms&gt;
&lt;arr:int&gt;\[ItemID fra WS GetFormSetElementsBasicV2
\]&lt;/arr:int&gt;
…
&lt;/ns:selectedForms&gt;
…
&lt;ns:selectedAttachments&gt;
&lt;arr:int&gt;184863&lt;/arr:int&gt;
&lt;arr:int&gt;184864&lt;/arr:int&gt;
…
&lt;/ns:selectedAttachments&gt;
```

Tabellen under beskriver datakontrakten for operasjonen.

| Input                          | Beskrivelse                                                                                                                                                             |
| ------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN                        | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                                                    |
| userPassword                   | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                                                         |
| userPinCode                    | Pinkode for valgt engangskodetype (authMethod)                                                                                                                          |
| authMethod                     | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin                                |
| reporteeElementID              | Angir element i Altinn som skal signeres                                                                                                                                |
| selectedForms                  | Angir en liste med FormIDs for skjemaer som skal signeres                                                                                                               |
| selectedAttachments            | Angir en liste med AttachmentIDs for vedlegg som skal signeres (kan hentes ut vha ItemID i operasjonen GetFormSetElementsV2 når ItemType er satt til BinaryAttachment). |
| signatureText                  | Signeringstekst                                                                                                                                                         |
| endUserSystemLoginDateTime     | Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss)                                                                                   |
| endUserSystemSignatureDateTime | ato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss)                                                                              |
| endUserSystemVersion           | Versjonsnummer for sluttbrukersystemet                                                                                                                                  |
| endUserSystemUserId            | Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen                                                                              |
| enduserSystemReference         | Referanse til signaturen som ble utført i sluttbrukersystemet (satt av sluttbrukersystem, bør være unik)                                                                |
| endUserSystemSignatureLogId    | Unik id i sluttbrukersystemet for logginnslag for signeringen                                                                                                           |
| **Returverdi**                 | **Beskrivelse**                                                                                                                                                         |
| N/A                            |                                                                                                                                                                         |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                                                                                                                                                                                            |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 14       | Dette er en generell autoriserings feil, og vil forekomme i et par situasjoner;  a. Man prøver å signere et ReporteeElement som man ikke har tilgang til. b. Man prøver å signere et ReporteeElement som står i feil status. (For eksempel Utfylling.) |
| 60035    | Man har prøvd å signere og arkivere et ReporteeElement som allerede er arkivert.                                                                                                                                                                       |
| 60036    | Denne brukeren har allerede signert dette ReporteeElementet.                                                                                                                                                                                           |

### Workflow.GetAvailableActionsV2

Denne operasjonen returnerer hvilken handling som er mulig å utføre for en gitt innsendingstjeneste i Altinn. Dette er basert på hvilket steg i arbeidsflyten tjenesten befinner seg på, samt hvilke rettigheter bruker i sluttbrukersystemet har. Operasjonen er versjonert, gjeldende versjon er V2.

Tabellen under beskriver datakontrakten for operasjonen.

| Input             | Beskrivelse                                                                                                                                                                         |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN           | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                                                                |
| userPassword      | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                                                                     |
| userPinCode       | Pinkode for valgt engangskodetype (authMethod)                                                                                                                                      |
| authMethod        | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin                                            |
| reporteeElementID | Angir element i Altinn                                                                                                                                                              |
| **Returverdi**    | **Beskrivelse**                                                                                                                                                                     |
| userCurrentAction | UserCurrentActionV2-objektet vil inneholde en av seks mulige handlinger: NoAction, Sign, FormFilling, SendIn, SignAndSendIn, DoSignDelegation, Delegering for brukerstyrt signering |

### Workflow.GetNextWorkflowStateTypeInProcessFlowV2

Denne operasjonen returnerer neste steg (steget etter gjeldende steg) i arbeidsflyt for en gitt innsendingstjeneste. Operasjonen er versjonert, gjeldende versjon er V2.

Tabellen under beskriver datakontrakten for operasjonen.

| Input             | Beskrivelse                                                                                                                                                                         |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| reporteeElementID | Angir element i Altinn.                                                                                                                                                             |
| **Returverdi**    | **Beskrivelse**                                                                                                                                                                     |
| userCurrentAction | UserCurrentActionV2-objektet vil inneholde en av seks mulige handlinger: NoAction, Sign, FormFilling, SendIn, SignAndSendIn, DoSignDelegation, Delegering for brukerstyrt signering |

### Workflow.GetProcessDetailsV2

Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres. Operasjonen er versjonert, gjeldende versjon er V2.

Tabellen under beskriver datakontrakten for operasjonen.

| Input              | Beskrivelse                                                                                                   |
| ------------------ | ------------------------------------------------------------------------------------------------------------- |
| reporteeElementID  | Angir element i Altinn                                                                                        |
| Returverdi         | Beskrivelse                                                                                                   |
| processDetailsList | En liste med ProcessDetailsBEV2-objekter, som inneholder detaljer for alle steg for gitte innsendingstjeneste |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                       | Beskrivelse                                                                                                         |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------- |
| **ProcessDetailsBEV2**         |                                                                                                                     |
| SequenceNumber                 | Sekvensnummer i arbeidsflyt for gjeldende steg                                                                      |
| ProcessStepId                  | Unik identifikator for steget                                                                                       |
| ActivityTypeId                 | Angir type steg: FormFilling, Signing, SendIn                                                                       |
| UserId                         | Identifikator for bruker som har gjennomført steget (dersom steget er gjennomført av bruker)                        |
| ServiceOwnerId                 | Identifikator for tjenesteeier som har gjennomført steget (dersom steget er gjennomført av tjenesteeier).           |
| EndUserSystemID                | Identifikator for sluttbrukersystem som har gjennomført steget (dersom steget er gjennomført av sluttbrukersystem). |
| ReporteeId                     | Identifikator for avgiver for tjenesten                                                                             |
| ReporteeName                   | Navn på avgiver                                                                                                     |
| CreatedDateTime                | Dato og tidspunkt for når tjenesten kom til gjeldende steg (yyyy-MM-ddThh:mm:ss)                                    |
| IsCurrentStep                  | Angir om dette steget er gjeldende steg i arbeidsflyt for innsendingstjeneste                                       |
| LastModifiedDate               | Dato og tidspunkt for når det sist ble gjort endringer på tjenesten for dette steget (yyyy-MM-ddThh:mm:ss)          |
| IsOptionalSigningStep          | Angir om signering er valgfritt for prosessen                                                                       |
| IsOptionalSigningStepIndicator | Angir om signering er valgfritt for steget                                                                          |
| ParallelSigningSeqNumber       | Angir stegnummeret et eventuelt brukerstyrt signeringssteg har i arbeidsflyten for tjenesten                        |

### Workflow.GetProcessDetailsBasicV3

Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres. Operasjonen er versjonert, gjeldende versjon er V2.

Tabellen under beskriver datakontrakten for operasjonen.

| Input              | Beskrivelse                                                                                                   |
| ------------------ | ------------------------------------------------------------------------------------------------------------- |
| reporteeElementID  | Angir element i Altinn                                                                                        |
| **Returverdi**     | **Beskrivelse**                                                                                               |
| processDetailsList | En liste med ProcessDetailsBEV3-objekter, som inneholder detaljer for alle steg for gitte innsendingstjeneste |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                       | Beskrivelse                                                                                                         |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------- |
| **ProcessDetailsBEV2**         |                                                                                                                     |
| SequenceNumber                 | Sekvensnummer i arbeidsflyt for gjeldende steg                                                                      |
| ProcessStepId                  | Unik identifikator for steget.                                                                                      |
| ActivityTypeId                 | Angir type steg: FormFilling, Signing, SendIn, Deleted                                                              |
| UserId                         | Identifikator for bruker som har gjennomført steget (dersom steget er gjennomført av bruker).                       |
| ServiceOwnerId                 | Identifikator for tjenesteeier som har gjennomført steget (dersom steget er gjennomført av tjenesteeier).           |
| EndUserSystemID                | Identifikator for sluttbrukersystem som har gjennomført steget (dersom steget er gjennomført av sluttbrukersystem). |
| ReporteeId                     | Identifikator for avgiver for tjenesten.                                                                            |
| ReporteeName                   | Navn på avgiver.                                                                                                    |
| CreatedDateTime                | Dato og tidspunkt for når tjenesten kom til gjeldende steg (yyyy-MM-ddThh:mm:ss).                                   |
| IsCurrentStep                  | Angir om dette steget er gjeldende steg i arbeidsflyt for innsendingstjeneste.                                      |
| LastModifiedDate               | Dato og tidspunkt for når det sist ble gjort endringer på tjenesten for dette steget (yyyy-MM-ddThh:mm:ss).         |
| IsOptionalSigningStep          | Angir om signering er valgfritt for prosessen                                                                       |
| IsOptionalSigningStepIndicator | Angir om signering er valgfritt for steget                                                                          |
| ParallelSigningSeqNumber       | Angir stegnummeret et eventuelt brukerstyrt signeringssteg har i arbeidsflyten for tjenesten.                       |

### Workflow.GetSigningText

Denne operasjonen henter ut signeringsteksten for et element i Altinn. Språkkoden angir hvilket språk man ønsker teksten på. Dersom valgt språk ikke støttes for denne tjenesten vil teksten returneres på default språk.

Tabellen under beskriver datakontrakten for operasjonen.

| Input                      | Beskrivelse                                                                                                                                                                 |
| -------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN                    | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                                                        |
| userPassword               | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                                                             |
| userPinCode                | Pinkode for valgt engangskodetype (authMethod)                                                                                                                              |
| authMethod                 | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin                                    |
| externalServiceCode        | Tjenestekode (for eksempel ”PSA”) for tjenesten som skjemasettet tilhører. Settes bare hvis reporteeElementID er ukjent.                                                    |
| externalServiceEditionCode | Tjenesteutgavekode (for eksempel ”2009”) for tjenesten som skjemasettet tilhører. Settes sammen med externalServiceCode.                                                    |
| reporteeElementID          | Angir element i Altinn. Settes ikke hvis externalServiceCode/ externalServiceEditionCode er satt.                                                                           |
| languageID                 | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk |
| **Returverdi**             | **Beskrivelse**                                                                                                                                                             |
| tekst                      | Signeringstekst                                                                                                                                                             |

### Workflow.SetBackToFormFilling

Denne operasjonen kan kalles fra et sluttbrukersystem for å sette en innsendingstjeneste i Altinn tilbake til utfyllingssteg.

Tabellen under beskriver datakontrakten for operasjonen.

| Input             | Beskrivelse                                                                                                                              |
| ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN           | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                     |
| userPassword      | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                          |
| userPinCode       | Pinkode for valgt engangskodetype (authMethod)                                                                                           |
| authMethod        | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin |
| reporteeElementID | Angir element i Altinn                                                                                                                   |
| **Returverdi**    | **Beskrivelse**                                                                                                                          |
| N/A               |                                                                                                                                          |

### Workflow.PrepareUserControlledSigning

Denne operasjonen benyttes for å forberede det brukerstyrte signeringssteget for en innsendingstjeneste.

Tabellen under beskriver datakontrakten for operasjonen.

| Input                                 | Beskrivelse                                                                                                                              |
| ------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN                               | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                     |
| userPassword                          | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                          |
| userPinCode                           | Pinkode for valgt engangskodetype (authMethod)                                                                                           |
| authMethod                            | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin |
| reporteeElementID                     | Angir elementet i Altinn                                                                                                                 |
| delegatedUserBEList                   | Liste med DelegatedUserBE som angir hvilke brukere som kan signere det brukerstyrte signeringssteget                                     |
| parallelSigningStepLocked             | Angir om det brukerstyrte steget skal være låst eller ei, kan kun brukes av ”Trusted partner”                                            |
| userDefinedNumberOfSignaturesRequired | Angir antallet signaturer som kreves for det brukerstyrte signeringssteget                                                               |
| **Returverdi**                        | **Beskrivelse**                                                                                                                          |
| N/A                                   | N/A                                                                                                                                      |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                  | Beskrivelse                                |
| ------------------------- | ------------------------------------------ |
| **DelegatedUserBE**       |                                            |
| SSN                       | Fødselsnummer for bruker som skal signere. |
| Name                      | Og etternavn til bruker som skal signere.  |
| NumberOfSignaturesAllowed | Antall signaturer denne kan gjøre.         |

### Workflow.GetProcessStepIDForParallelSigning

Denne operasjonen benyttes for å hente prosess steg ID for det brukerstyrte signeringssteget.

Tabellen under beskriver datakontrakten for operasjonen.

| userSSN           | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                      |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| userPassword      | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                           |
| userPinCode       | Pinkode for valgt engangskodetype (authMethod)                                                                                            |
| authMethod        | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er:  AltinnPin, SMSPin |
| reporteeElementID | Angir elementet i Altinn                                                                                                                  |
| **Returverdi**    | **Beskrivelse**                                                                                                                           |
| Id                | ID til det brukerstyrte signeringssteget, returneres 0 betyr det at valgt element ikke har et brukerstyrt signeringssteg                  |

### Workflow.GetSigningSummaryHTML

Operasjon innført av webSA for å kunne understøtte samme funksjonaliteten som man har i Altinn I, med visning av
kvitteringssammendrag på signeringssiden/signeringssteget, og ikke bare på kvitteringssiden etter arkivering.

Tabellen under beskriver datakontrakten for operasjonen.

| userSSN                          | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                     |
| -------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| userPassword                     | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                          |
| userPinCode                      | Pinkode for valgt engangskodetype (authMethod)                                                                                           |
| authMethod                       | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin |
| reporteeElementID                | Angir elementet i Altinn                                                                                                                 |
| **Returverdi**                   | **Beskrivelse**                                                                                                                          |
| GetSigningSummaryHTMLBasicResult | Returnerer kvitteringssammendrag for en innsendingstjeneste tilsvarende som i portal                                                     |

## PrefillEUSExternal

| Tjenesteoperasjon | Kort beskrivelse                                                                               |
| ----------------- | ---------------------------------------------------------------------------------------------- |
| GetPrefillData    | Henter preutfyllingsdata for angitt avgiver og tjenesteutgave, og returnerer preutfyllingsdata |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### PrefillEUSExternal.GetPrefillData

Denne operasjonen kan kalles fra et sluttbrukersystem for å hente preutfyllingsdata for en gitt avgiver og tjenesteutgave.

| Input                      | Beskrivelse                                                                                                                                                                                                                        |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN                    | Fødselsnummer til bruker i sluttbrukersystemet                                                                                                                                                                                     |
| userPassword               | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                                                                                                                    |
| userPinCode                | Pinkode for valgt engangskodetype (authMethod)                                                                                                                                                                                     |
| authMethod                 | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin                                                                                           |
| ReporteeNumber             | Fødselsnummer eller organisasjonsnummer det skal hentes ut prefill for                                                                                                                                                             |
| ExternalServiceCode        | Tjenestekode for tjenesten som skjemasettet tilhører                                                                                                                                                                               |
| ExternalServiceEditionCode | Tjenesteutgavekode for tjenesten som skjemasettet tilhører                                                                                                                                                                         |
| **Returverdi**             | **Beskrivelse**                                                                                                                                                                                                                    |
| preFillData                | Objekt av typen PreFillDataBE, som inneholder status på hvorvidt preutfyllingsdata ble funnet eller ikke, samt en liste med objekter av typen PreFillFormFieldDataBE, som inneholder selve preutfyllingsdataene og andre metadata. |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                    | Beskrivelse                                                                                                                                                                                                                                                                                       |
| --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **PreFillDataBE**           |                                                                                                                                                                                                                                                                                                   |
| Status                      | Status som angir om preutfyllingsdata ble funnet eller ikke. Mulige statuser er: INVALIDINPUT - Input er ikke valid, PREFILLDATAFOUND - Preutfyllingsdata ble funnet og returnert, PREFILLDATANOTFOUND - Ingen gyldige preutfyllingsdata ble funnet                                               |
| PreFillFormTaskBEList       | Liste med objekter av typen PrefillFormTaskBE                                                                                                                                                                                                                                                     |
| **PrefillFormTaskBE**       |                                                                                                                                                                                                                                                                                                   |
| ExternalServiceCode         | Angir den unike tjenestekoden dataene gjelder                                                                                                                                                                                                                                                     |
| ExternalServiceEditionCode  | Angir tjenesteutgavekode dataene gjelder                                                                                                                                                                                                                                                          |
| ExternalShipmentReference   | Unik referanse som settes av tjenesteeier for å identifisere forsendelsen                                                                                                                                                                                                                         |
| IdentityFieldHashCode       | Settes ikke av tjenesteeier. Brukes internt i Altinn                                                                                                                                                                                                                                              |
| PreFillAttachments          | Liste (PrefillAttachmentBE-objekter) som inneholder binære vedlegg for oppgavesettet                                                                                                                                                                                                              |
| PreFillForms                | Liste (PrefillFormBE-objekter) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt                                                                                                                                                                             |
| PreFillIdentityFields       | Liste (PrefillIdentityFieldBE-objekter) som inneholder identifiserende felter for det preutfylte oppgavesettet                                                                                                                                                                                    |
| PrefillNotifications        | Liste (NotificationBE-objekter) med varsler for det preutfylte oppgavesettet                                                                                                                                                                                                                      |
| ReceiversReference          | Referanse som settes av Altinn                                                                                                                                                                                                                                                                    |
| Reportee                    | Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder                                                                                                                                                                                                                    |
| SendersReference            | Referanse på preutfylt skjemasett som settes av tjenesteeier                                                                                                                                                                                                                                      |
| ServiceOwnerCode            | Kode som unikt representerer kildesystem, f.eks. ”ABC-123”. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier. |
| ValidFromDate               | Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)                                                                                                                                                                                                                                            |
| ValidToDate                 | Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)                                                                                                                                                                                                                                            |
| PrefillAttachmentBE         |                                                                                                                                                                                                                                                                                                   |
| AttachmentData              | Data for det binære vedlegget.                                                                                                                                                                                                                                                                    |
| AttachmentName              | Dette er navnet på vedlegget, som det vises i portalen.                                                                                                                                                                                                                                           |
| AttachmentType              | MIME-typen for vedlegget                                                                                                                                                                                                                                                                          |
| FileName                    | Navn på fil for det binære vedlegget. Filavnet kan ikke inneholde tegn som ":" og "\".                                                                                                                                                                                                            |
| SendersReference            | Referanse for vedlegget. Settes av tjenesteeier                                                                                                                                                                                                                                                   |
| PrefillFormBE               |                                                                                                                                                                                                                                                                                                   |
| DataFormatID                | Id til skjema fra metadata kilde                                                                                                                                                                                                                                                                  |
| DataFormatVersion           | Versjon til skjema fra metadata kilde                                                                                                                                                                                                                                                             |
| FormDataXML                 | Preutfyllingsdata for skjemaet. En CDATA blokk                                                                                                                                                                                                                                                    |
| SendersReference            | Referanse for skjemaet satt av tjenesteeier                                                                                                                                                                                                                                                       |
| **PreFillIdentityFieldBE**  |                                                                                                                                                                                                                                                                                                   |
| FieldValue                  | Verdi for identifiserende felt, som benyttes for å skille preutfyllingsdata for samme tjenesteutgave og avgiver fra hverandre                                                                                                                                                                     |
| **NotificationBE**          |                                                                                                                                                                                                                                                                                                   |
| FromAddress                 | Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen                                                                                                                                                                                                             |
| ShipmentDateTime            | Når varsel skal sendes til mottaker                                                                                                                                                                                                                                                               |
| LanguageCode                | Språk kode: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk                                                                                                                                                                                                                                  |
| NotificationType            | En unik streng som definerer en referanse til predefinerte varslingstekster                                                                                                                                                                                                                       |
| TextTokens                  | Liste av tekster som skal erstatte maltekst i varselmal                                                                                                                                                                                                                                           |
| ReceiverEndPoints           | Liste av mottaker adresser (ReceiverEndPointBE)                                                                                                                                                                                                                                                   |
| **ReceiverEndPoint**        |                                                                                                                                                                                                                                                                                                   |
| ReceiverAddress             | Adressen (telefonnummer eller e-postadresse) for mottakspunktet                                                                                                                                                                                                                                   |
| TransportType               | Type varsling: Email, SMS, Instant Message (IM), Both email & sms                                                                                                                                                                                                                                 |
| **TextTokenSubstitutionBE** |                                                                                                                                                                                                                                                                                                   |
| TokenNum                    | Id på maltekst som skal erstattes i varselmal. Varselmal må bestilles og lages på forhånd                                                                                                                                                                                                         |
| TokenValue                  | Tekst som skal ersatte maltekst                                                                                                                                                                                                                                                                   |

### PrefillEUSExternal.GetPrefillDataV2

Denne operasjonen kan kalles fra et sluttbrukersystem for å hente preutfyllingsdata for en gitt avgiver og tjenesteutgave.

| Input                      | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| userSSN                    | Fødselsnummer til bruker i sluttbrukersystemet                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| userPassword               | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| userPinCode                | Pinkode for valgt engangskodetype (authMethod)                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| authMethod                 | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin                                                                                                                                                                                                                                                                                                                                                                           |
| ReporteeNumber             | Fødselsnummer eller organisasjonsnummer det skal hentes ut prefill for                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ExternalServiceCode        | Tjenestekode for tjenesten som skjemasettet tilhører                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ExternalServiceEditionCode | Tjenesteutgavekode for tjenesten som skjemasettet tilhører                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| PrefillList                | SBS kan be om preutfylling for spesifikke skjema/underskjema med en opsjonell liste over ønskede skjema. Listen inneholder verdi/verdier som refererer til skjema basert på dets DataFormatID. Det skal ikke være nødvendig å måtte angi DataFormatVersion siden man allerede kjenner til ExternalServiceCode, ExternalServiceEditionCode + DataFormatID, som gir nok informasjon til å finne det aktuelle (under-)skjema. Merk at dette er en liste, slik at man kan hente preutfylling for flere skjema samtidig |
| PrefillList.DataFormatID   | Liste med en eller flere verdier. Verdien peker på hvilket skjema i et skjemasett man ønsker å hente preutfylling for                                                                                                                                                                                                                                                                                                                                                                                              |
| returnAllFormTasks         | Verdi for å bestemme om Altinn skal returnere alle gyldige skjemaset eller kun det siste. Dersom verdien ikke er definert eller er definert til ‘false’ så returneres kun siste skjemasettet som er preutfylt. Dersom verdien er definert til ‘true’ så returneres de etterspurte skjemaene i alle gyldige preutfylte skjemaset. Det er kun i tilfeller der det er prefill på skjemanivå at det kan returneres mer en ett oppgavesett.                                                                             |
| Returverdi                 | Beskrivelse                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| preFillData                | Objekt av typen PreFillDataBE, som inneholder status på hvorvidt preutfyllingsdata ble funnet eller ikke, samt en liste med objekter av typen PreFillFormFieldDataBE, som inneholder selve preutfyllingsdataene og andre metadata                                                                                                                                                                                                                                                                                  |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                    | Beskrivelse                                                                                                                                                                                                                                                                                       |
| --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **PreFillDataBE**           |                                                                                                                                                                                                                                                                                                   |
| PrefillDataFound            | Samlestatus: Angir om det finnes eller ikke finnes Preutfylling (Tilsvarer: SOPrefillDataFound or RegisterPrefillDataFound)                                                                                                                                                                       |
| SOPrefillDataFound          | Angir om det finnes eller ikke finnes Preutfylling fra tjenesteeier                                                                                                                                                                                                                               |
| RegisterPrefillDataFound    | Angir om det finnes eller ikke finnes Preutfylling fra Register                                                                                                                                                                                                                                   |
| PreFillFormTaskBEList       | Liste med objekter av typen PrefillFormTaskBE                                                                                                                                                                                                                                                     |
| **PrefillFormTaskBE**       |                                                                                                                                                                                                                                                                                                   |
| ExternalServiceCode         | Angir den unike tjenestekoden dataene gjelder                                                                                                                                                                                                                                                     |
| ExternalServiceEditionCode  | Angir tjenesteutgavekode dataene gjelder                                                                                                                                                                                                                                                          |
| ExternalShipmentReference   | Unik referanse som settes av tjenesteeier for å identifisere forsendelsen                                                                                                                                                                                                                         |
| IdentityFieldHashCode       | Settes ikke av tjenesteeier. Brukes internt i Altinn                                                                                                                                                                                                                                              |
| PreFillAttachments          | Liste (PrefillAttachmentBE-objekter) som inneholder binære vedlegg for oppgavesettet                                                                                                                                                                                                              |
| PreFillForms                | Liste (PrefillFormBE-objekter) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt                                                                                                                                                                             |
| PreFillIdentityFields       | Liste (PrefillIdentityFieldBE-objekter) som inneholder identifiserende felter for det preutfylte oppgavesettet                                                                                                                                                                                    |
| PrefillNotifications        | Liste (NotificationBE-objekter) med varsler for det preutfylte oppgavesettet                                                                                                                                                                                                                      |
| ReceiversReference          | Referanse som settes av Altinn                                                                                                                                                                                                                                                                    |
| Reportee                    | Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder                                                                                                                                                                                                                    |
| SendersReference            | Referanse på preutfylt skjemasett som settes av tjenesteeier                                                                                                                                                                                                                                      |
| ServiceOwnerCode            | Kode som unikt representerer kildesystem, f.eks. ”ABC-123”. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier. |
| ValidFromDate               | Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)                                                                                                                                                                                                                                            |
| ValidToDate                 | Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)                                                                                                                                                                                                                                            |
| **PrefillAttachmentBE**     |                                                                                                                                                                                                                                                                                                   |
| AttachmentData              | Data for det binære vedlegget                                                                                                                                                                                                                                                                     |
| AttachmentName              | Dette er navnet på vedlegget, som det vises i portalen                                                                                                                                                                                                                                            |
| AttachmentType              | MIME-typen for vedlegget                                                                                                                                                                                                                                                                          |
| FileName                    | Navn på fil for det binære vedlegget. Filavnet kan ikke inneholde tegn som ":" og "\".                                                                                                                                                                                                            |
| SendersReference            | Referanse for vedlegget. Settes av tjenesteeier                                                                                                                                                                                                                                                   |
| **PrefillFormBE**           |                                                                                                                                                                                                                                                                                                   |
| DataFormatID                | Id til skjema fra metadata kilde                                                                                                                                                                                                                                                                  |
| DataFormatVersion           | Versjon til skjema fra metadata kilde                                                                                                                                                                                                                                                             |
| FormDataXML                 | Preutfyllingsdata for skjemaet. Dataene er lagret som en CDATA blokk. Preutfyllingsdata omfatter eventuell oppgavesettpreutfylling, eventuell feltpreutfylling og eventuell registerpreutfylling                                                                                                  |
| SendersReference            | Referanse for skjemaet satt av tjenesteeier                                                                                                                                                                                                                                                       |
| **PreFillIdentityFieldBE**  |                                                                                                                                                                                                                                                                                                   |
| FieldValue                  | Verdi for identifiserende felt, som benyttes for å skille preutfyllingsdata for samme tjenesteutgave og avgiver fra hverandre                                                                                                                                                                     |
| **NotificationBE**          |                                                                                                                                                                                                                                                                                                   |
| FromAddress                 | Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen                                                                                                                                                                                                             |
| ShipmentDateTime            | Når varsel skal sendes til mottaker                                                                                                                                                                                                                                                               |
| LanguageCode                | Språk kode: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk                                                                                                                                                                                                                                  |
| NotificationType            | En unik streng som definerer en referanse til predefinerte varslingstekster                                                                                                                                                                                                                       |
| TextTokens                  | Liste av tekster som skal erstatte maltekst i varselmal                                                                                                                                                                                                                                           |
| ReceiverEndPoints           | Liste av mottaker adresser (ReceiverEndPointBE)                                                                                                                                                                                                                                                   |
| **ReceiverEndPoint**        |                                                                                                                                                                                                                                                                                                   |
| ReceiverAddress             | Adressen (telefonnummer eller e-postadresse) for mottakspunktet                                                                                                                                                                                                                                   |
| TransportType               | Type varsling: Email, SMS, Instant Message (IM), Both email & sms                                                                                                                                                                                                                                 |
| **TextTokenSubstitutionBE** |                                                                                                                                                                                                                                                                                                   |
| TokenNum                    | Id på maltekst som skal erstattes i varselmal. Varselmal må bestilles og lages på forhånd                                                                                                                                                                                                         |
| TokenValue                  | Tekst som skal ersatte maltekst                                                                                                                                                                                                                                                                   |

## Case

| Tjenesteoperasjon        | Kort beskrivelse                                                                                                                                         |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| GetCaseList              | Henter en liste med detaljer for aktive samhandlingstjenester. Operasjonen kan også kalles for å hente ut detaljer for én spesifikk samhandlingstjeneste |
| InstantiateCollaboration | Oppretter en ny samhandlingstjeneste og starter arbeidsflyten for tjenesten                                                                              |
| ArchiveCase              | Avslutter arbeidsflyten for en samhandlingstjeneste                                                                                                      |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### Case.GetCaseList

Operasjonen kan benyttes for å hente ut en liste med detaljer for aktive samhandlingstjenester eller detaljer for én spesifikk samhandlingstjeneste.

| Input                      | Beskrivelse                                                                                                                                                         |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN                    | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                                                |
| userPassword               | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                                                     |
| userPinCode                | Pinkode for valgt engangskodetype (authMethod)                                                                                                                      |
| authMethod                 | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin                            |
| caseID                     | Unik identifikator for en samhandlingstjeneste                                                                                                                      |
| externalServiceCode        | Unik tjenestekode for en tjeneste                                                                                                                                   |
| externalServiceEditionCode | Unik kode for en tjenesteutgave                                                                                                                                     |
| languageID                 | Språk id. Benytt verdien 0 (uspesifisert) da skjemasett vil hentes med språket den ble arkivert med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk |
| reporteeNumber             | Fødselsnummer eller organisasjonsnummer for de tjenester man ønsker å hente ut                                                                                      |
| **Returverdi**             | **Beskrivelse**                                                                                                                                                     |
| CaseBEList                 | En liste med objekter av typen CaseBE                                                                                                                               |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                 | Beskrivelse                                              |
| ------------------------ | -------------------------------------------------------- |
| CaseBE                   |                                                          |
| CaseID                   | Identifikator for samhandlingstjenesten.                 |
| CaseName                 | Samhandlingstjenestens navn.                             |
| Comments                 | Kommentarer på samhandlingstjenesten.                    |
| CurrentStateFriendlyName | Visningsvennlig navn på samhandlingstjenestens tilstand. |
| CurrentStateID           | Identifikator for samhandlingstjenestens tilstand.       |
| CurrentStateName         | Navn på samhandlingstjenestens tilstand.                 |
| Notice                   | Merknad på samhandlingstjenesten.                        |
| NoticeTemplateID         | Identifikator for merknaden på samhandlingstjenesten     |

Tabellen under angir mulige feilkoder for operasjonen:

| 60001 | Angitt CaseID er ikke gyldig                                                                   |
| ----- | ---------------------------------------------------------------------------------------------- |
| 60002 | Enten tjenestekode og tjenesteutgavekode eller identifikator for samhandlingstjeneste må angis |
| 60012 | Angitt avgiver er ikke gyldig                                                                  |
| 60014 | Angitt CaseID er arkivert                                                                      |
| 60015 | Angitt CaseID er slettet                                                                       |

### Case.InstantiateCollaboration

Denne operasjonen kan kalles fra et sluttbrukersystem for å opprette en instans av en samhandlingstjeneste.

| Input                      | Beskrivelse                                                                                                                              |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN                    | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                     |  | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn |
| userPinCode                | Pinkode for valgt engangskodetype (authMethod)                                                                                           |
| authMethod                 | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin |
| externalServiceCode        | Tjenestekode for type samhandlingstjenesten som skal opprettes                                                                           |
| externalServiceEditionCode | Tjenesteutgavekode for type samhandlingstjenesten som skal opprettes                                                                     |
| reporteeNumber             | Fødselsnummer eller organisasjonsnummer samhandlingstjeneste instansen skal opprettes for                                                |
| externalSystemReference    | Unik referanse for samhandlingstjenesten                                                                                                 |
| visibleDateTime            | Dato for når samhandlingstjenesten blir synlig i portal (yyyy-MM-dd)                                                                     |
| dueDate                    | Samhandlingstjenestens frist angis her (yyyy-MM-dd)                                                                                      |
| **Returverdi**             | **Beskrivelse**                                                                                                                          |
| CaseId                     | Identifikator for den opprettede samhandlingstjeneste instansen                                                                          |

Tabellen under angir mulige feilkoder for operasjonen:

### Case.ArchiveCase

Denne operasjonen kan kalles fra et sluttbrukersystem for å arkivere en samhandlingstjeneste.

Sluttbrukersystemet kan velge å angi at samhandlingstjenesten skal arkiveres uavhengig av om tjenestene som tilhører samhandlingstjenesten er arkivert. Dette vil medføre at tilhørende tjenester vil frikobles fra samhandlingstjenesten.

| Input          | Beskrivelse                                                                                                                              |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| userSSN        | Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres                                                                     |
| userPassword   | Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn                                                          |
| userPinCode    | Pinkode for valgt engangskodetype (authMethod)                                                                                           |
| authMethod     | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin |
| caseID         | Unik identifikator for samhandlingstjenesten som skal arkiveres                                                                          |
| forceArchive   | Angir om elementer som ikke er klare for å arkiveres sammen med samhandlingstjenesten skal frikobles                                     |
| **Returverdi** | **Beskrivelse**                                                                                                                          |
| ArchivedCaseID | Arkiv identifikator for den arkiverte samhandlingstjenesten                                                                              |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                  |
| -------- | ---------------------------------------------------------------------------- |
| 60001    | Angitt CaseID er ikke gyldig                                                 |
| 60006    | Samhandlingstjenesten har fremdeles aktive meldingstjenester                 |
| 60007    | Samhandlingstjenesten har fremdeles aktive innsendingstjenester              |
| 60013    | Angitt samhandlingstjeneste er ikke gyldig, eller har blitt arkivert/slettet |

## SystemAuthentication

| Tjenesteoperasjon          | Kort beskrivelse                                                |
| -------------------------- | --------------------------------------------------------------- |
| GetAuthenticationChallenge | Autentiserer bruker, og returnerer engangskode for tjenestekall |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### SystemAuthentication.GetAuthenticationChallenge

For å sikre autentisering av en person i Altinn gjennom web service operasjonskall benyttes et tjenestekall som tar i mot informasjon om hvilken bruker som skal autentiseres. Web servicen sender tilbake en melding om hvilken engangskode basert på input om hvilke autentiseringsmetode som ønsker benyttes. Den identifiserte engangskoden operasjonen gir beskjed om i respons må da benyttes ved neste tjenestekall. (Se avsnitt om [autentisering](/docs/api/soap/funksjonelle-scenario/#autentisering-og-autorisasjon-av-sluttbrukersystem-og-bruker) og hvordan benytte denne web service operasjonen)

Denne tjenesten vil gi tilbakemelding om hvilken engangskode som skal benyttes og også sende en engangskode per SMS hvis dette er valgt autentisering metode.

| Input                  | Beskrivelse                                                                                                                      |
| ---------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| challengeRequest       | Objekt av typen AuthenticationChallengeRequestBE som representerer hvem som ønsker tilgang                                       |
| **Returverdi**         | **Beskrivelse**                                                                                                                  |
| autenticationChallenge | Objekt av typen AuthenticationChallengeBE med info om autentiseringstatus, forteller om kallet var suksess eller ikke:           |
|                        | Hvis meldingen inneholder ”OK” så er forespørsel OK og teksten i Message-feltet i denne responsen gir mer informasjon til bruker |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                             | Beskrivelse                                                                              |
| ------------------------------------ | ---------------------------------------------------------------------------------------- |
| **AuthenticationChallengeRequestBE** |                                                                                          |
| SystemUserName                       | Id eller brukernavn som unikt identifiserer sluttbrukersystemet eller brukeren i Altinn. |
| UserSSN                              | Fødselsnummer til bruker i sluttbrukersystemet eller brukernavnet som skal autentiseres  |
| UserPassword                         | Passordet person har registrert for sin bruker i Altinn                                  |
| AuthMethod                           | Angir hvilken engangskodetype bruker ønskes utfordret på                                 |
| **AuthenticationChallengeBE**        |                                                                                          |
| Status                               | Status på forespørsel:                                                                   |
| Message                              | Informasjon utover status                                                                |
| ValidFrom                            | Tidspunkt pin de gyldig fra                                                              |
| ValidTo                              | Tidspunkt pin utløper                                                                    |

## ArchiveCommonExternal

| Tjenesteoperasjon          | Kort beskrivelse                                                   |
| -------------------------- | ------------------------------------------------------------------ |
| GeneratePaymentInformation | Genererer betalingsinformasjon i xml-format til sluttbrukersystem. |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### ArchiveCommonExternal.GetPaymentInformation

Denne operasjonen genererer betalingsinformasjon i xml-format til sluttbrukersystem.

Tabellen under beskriver datakontrakten for operasjonen.

| Input                      | Beskrivelse                                                                                                                                                                                                                                                                                                               |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| systemUserName             | Id som unikt identifiserer sluttbrukersystemet eller brukernavnet i Altinn                                                                                                                                                                                                                                                |
| systemPassword             | Passord til sluttbrukersystemet eller brukernavnet i Altinn                                                                                                                                                                                                                                                               |
| userSSN                    | Brukers fødselsnummer. Til bruk til autentisering ved evt. Signering                                                                                                                                                                                                                                                      |
| userPassword               | Brukers passord. Til bruk til autentisering ved evt. Signering                                                                                                                                                                                                                                                            |
| userPinCode                | Pinkode. Til bruk til autentisering ved evt. signering                                                                                                                                                                                                                                                                    |
| authMethod                 | Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin                                                                                                                                                                                  |
| dataFormatID               | Dataformat                                                                                                                                                                                                                                                                                                                |
| reportee                   | Fødselsnummer eller organisasjonsnummer                                                                                                                                                                                                                                                                                   |
| year                       | År man ønsker å hente ut betalingsinfo fra                                                                                                                                                                                                                                                                                |
| periodeNumber              | Periode man ønsker å hente ut betalingsinfo fra. Denne verdien er avhengig av hvilken verdi parameteren periodeType har. F.eks for periodType=1 er kun 1 gyldig,da det er kun 1 periode for årlig innrapportering. For periodeType=2 er 1 og 2 som er gyldige, for periodeType=3 er det 1,2 og 3 de gyldige verdiene, osv |
| periodeType                | Type innrapporteringsperiode. Denne kan ha følgende verdier: 1 - årlig,2 - halvårlig,3 - hver 4 måned, 4 - kvartalsvis, 5 - annenhver måned, 6 - månedlig, 26 - annenhver uke, 52 - ukentlig, 365 - daglig                                                                                                                |
| municipalNumber            | Kommunenummer                                                                                                                                                                                                                                                                                                             |
| formType                   | Type skjema. Kan være 1 - tillegsoppgave, 2 - endringsoppgave og 3 - hovedoppgave                                                                                                                                                                                                                                         |
| externalServiceCode        | Unik tjenestekode for en tjeneste                                                                                                                                                                                                                                                                                         |
| externalServiceEditionCode | Unik kode for en tjenesteutgave                                                                                                                                                                                                                                                                                           |

## BrokerService – Formidlingstjenester (WS)

| Tjenesteoperasjon     | Kort beskrivelse                                                                                                    |
| --------------------- | -----------------------------------------------------------------------------------------------------------------   |
| CheckIfAvailableFiles | Denne operasjonen er en enkel og lettvekts metode for mottakere som ofte må sjekke om det er nye filer tilgjengelig |
| GetAvailableFiles     | Henter en avgivers tilgjengelige formidlingstjenester med metadata og referanse for nedlasting                      |
| InitiateBrokerService | Forbereder opprettelse av en formidlingstjeneste ved å sende inn nødvendig metadata, hvorpå fil kan strømmes opp.   |
| UploadFileStreamed    | Strømmer opp fil for en gitt referanse basert på opprettelse av formidlingstjeneste                                 |
| DownloadFileStreamed  | Strømmer ned fil for formidlingstjeneste basert på referanse                                                        |

Se [endepunkter](/docs/api/soap/endepunkter-oversikt/) for informasjon om endepunkter for tjenesteoperasjonene.

### BrokerService.CheckIfAvailableFiles
Denne operasjonen er en enkel operasjon for mottakere som ofter poller på om filer er tilgjengelige. Den gir en enkel response; true dersom en eller flere angitte mottakere har filer tilgjengelige, false dersom ingen har filer tilgjengelige. “Recipients” feltet er enten en enkel mottaker eller flere mottakere i en komma-separert liste


### BrokerService.GetAvailableFiles

Operasjonen henter ut tilgjengelige formidlingstjenester som en mottaker kan laste ned.

Listen med filer vil bli filtrert basert på rettigheter.

- Innlogget system må ha rettighetene som kreves for å kunne lese elementer (på tjenesten) på vegne av avgiver.
- Avgiver må fortsatt ha lese rettigheter på tjenesten. (Kan ha mistet rettighetene etter at filen ble opprettet.)
- Innlogget bruker har riktig autentiseringsnivå. For eksempel vil data system innlogging gi nivå 2. Dette vil skjule filer fra tjenester som krever nivå 3.

Hvis en eller flere av disse testene ikke går ok så vil filene det gjelder bli skjult for brukeren. Metoden vil ikke gi noen feilmelding på dette.

| Input                          | Beskrivelse                                                                                                                                              |
| ------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| searchParameters               | Objekt av typen BrokerServiceSearch som representerer søkekriteriene for oppslaget mot formidlingstjenestene                                             |
| **Returverdi**                 | **Beskrivelse**                                                                                                                                          |
| BrokerServiceAvailableFileList | Objekt av typen BrokerServiceAvailableFileList som inneholder en liste over tilgjengelige formidlingstjenester med informasjon som passer søkekriteriene |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                       | Beskrivelse                                                                                                                                                                                                                                                                                                                |
| ------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **BrokerServiceSearch**        |                                                                                                                                                                                                                                                                                                                            |
| Reportee                       | Angir for hvilken avgiver formidlingstjenestene skal sjekkes for. Påkrevd felt.                                                                                                                                                                                                                                            |
| FileStatus                     | Angir status for formidlingstjenesten det skal søkes for. Mulige verdier er: Uploaded – betyr at formidlingstjenesten er lastet opp av avsender og tilgjengelig for nedlasting. Downloaded – betyr at formidlingstjenesten allerede er lastet ned fra Altinn, men fremdeles tilgjengelig for nedlasting. Feltet er påkrevd |
| ExternalServiceCode            | Angir tjenestekoden til formidlingstjenesten det skal søkes etter. Må benyttes i sammenheng med ExternalServiceEditionCode. Feltet er valgfritt.                                                                                                                                                                           |
| ExternalServiceEditionCode     | Angir tjenesteutgavekoden til formidlingstjenesten det skal søkes etter. Må benyttes i sammenheng med ExternalServiceCode. Feltet er valgfritt.                                                                                                                                                                            |
| MinSentDateTime                | Angir dato og klokkeslett for å begrense resultatsett av formidlingstjenester sent inn etter angitt tidspunkt, (yyyy-MM-ddThh:mm:ss).                                                                                                                                                                                      |
| MaxSentDateTime                | Angir dato og klokkeslett for å begrense resultatsett av formidlingstjenester sent inn før angitt tidspunkt, (yyyy-MM-ddThh:mm:ss).                                                                                                                                                                                        |
| **BrokerServiceAvailableFile** |                                                                                                                                                                                                                                                                                                                            |
| FileReference                  | Filreferanse på GUID format som benyttes til å laste ned formidlingstjenesten ved bruk av BrokerServiceStreamed.DownloadFileStreamed (se 6.14.4)                                                                                                                                                                           |
| FileName                       | Filnavnet til formidlingstjenesten                                                                                                                                                                                                                                                                                         |
| FileSize                       | Størrelsen på filen til formidlingstjenesten                                                                                                                                                                                                                                                                               |
| ReceiptID                      | Identifikator for kvitteringen tilhørende denne forsendelsen og mottaker. Dette er en underkvittering til hoved-kvitteringen sender forholder seg til.                                                                                                                                                                     |
| FileStatus                     | Viser status for formidlingstjenesten. Mulige verdier er: Uploaded – betyr at formidlingstjenesten er lastet opp av avsender og tilgjengelig for nedlasting. Downloaded – betyr at formidlingstjenesten allerede er lastet ned fra Altinn, men fremdeles tilgjengelig for nedlasting                                       |
| Reportee                       | Organisasjonsnummer eller fødselsnummer som representerer avsenderen av formidlingstjenesten                                                                                                                                                                                                                               |
| SentDate                       | Viser dato og klokkeslett for når formidlingstjenesten ble sent til Altinn, (yyyy-MM-ddThh:mm:ss)                                                                                                                                                                                                                          |
| ExternalServiceCode            | Angir tjenestekoden til formidlingstjenesten                                                                                                                                                                                                                                                                               |
| ExternalServiceEditionCode     | Angir tjenesteutgavekoden til formidlingstjenesten                                                                                                                                                                                                                                                                         |
| SendersReference               | Angir en referanse for formidlingstjenesten satt av avsender                                                                                                                                                                                                                                                               |
| IsSftpDownloadOnly             | Dette feltet angir om formidlingstjenesten kun kan lastes vha. SFTP kanalen på grunn av størrelsen                                                                                                                                                                                                                         |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                                         |
| -------- | --------------------------------------------------------------------------------------------------- |
| 40210    | Tjenestekoder, ExternalServiceCode og/eller ExternalServiceEditionCode, mangler eller er satt til 0 |
| 40214    | Verdi for avgiver er ikke på forventet format for organisasjonsnummer eller fødselsnummer           |

### BrokerService.InitiateBrokerService

Denne operasjonen starter prosessen for å laste opp en ny formidlingstjeneste. Avsender må starte med å laste opp metadata om tjenesten og hvem som skal motta. Når Altinn har verifisert dette vil mottaker få en referanse som videre benyttes for å laste opp selve payloaden.

| Input                   | Beskrivelse                                                                                                                           |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| brokerServiceInitiation | Objekt av typen BrokerServiceInitiation som representerer informasjon tilsvarende manifest.xsd og mottakere for formidlingstjenesten. |
| **Returverdi**          | **Beskrivelse**                                                                                                                       |
| string                  | Referanse på GUID format som benyttes for opplasting gjennom BrokerServiceStreamed.UploadFileStreamed                                 |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                    | Beskrivelse                                                                                                                                                                                                                                      |
| --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **BrokerServiceInitiation** |                                                                                                                                                                                                                                                  |
| Manifest                    | Objekt av typen Manifest. Feltet er påkrevd                                                                                                                                                                                                      |
| RecipientList               | Liste med objekter av typen BrokerServiceRecipientExternalBE. Feltet er påkrevd                                                                                                                                                                  |
| **Manifest**                |                                                                                                                                                                                                                                                  |
| ExternalServiceCode         | Angir tjenestekoden til formidlingstjenesten som skal opprettes. Feltet er påkrevd                                                                                                                                                               |
| ExternalServiceEditionCode  | Angir tjenesteutgavekoden til formidlingstjenesten som skal opprettes. Feltet er påkrevd                                                                                                                                                         |
| SendersReference            | Referanse som formidlingstjenesten skal knyttes til. Bør være unik. Feltet er påkrevd                                                                                                                                                            |
| Reportee                    | Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd                                                                                                                                            |
| FileList                    | Liste av objekter av typen File. Ment for å kunne utveksle informasjon om innholdet i formidlingstjenesten etter avtale mellom avsender og mottaker – innhold valideres eller endres ikke av Altinn. Feltet er ikke påkrevd                      |
| PropertyList                | Liste av objekter av typen Property. Ment for å kunne utveksle ytterlige egenskaper om formidlingstjenesten med nøkkel og verdi etter avtale mellom avsender og mottaker – innhold valideres eller endres ikke av Altinn. Feltet er ikke påkrevd |
| File                        |                                                                                                                                                                                                                                                  |
| FileName                    | Ment for å kunne angi filnavn. Feltet er påkrevd                                                                                                                                                                                                 |
| CheckSum                    | Ment for å kunne angi sjekksummen for fil                                                                                                                                                                                                        |
| **Property**                |                                                                                                                                                                                                                                                  |
| PropertyKey                 | Nøkkel for egenskap. Feltet er påkrevd                                                                                                                                                                                                           |
| PropertyValue               | Verdi for egenskapen definert. Feltet er påkrevd                                                                                                                                                                                                 |
| **Recipient**               |                                                                                                                                                                                                                                                  |
| PartyNumber                 | Organisasjonsnummer eller fødselsnummer for ønsket mottaker av formidlingstjenesten. Feltet er påkrevd                                                                                                                                           |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                                                                              |
| -------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| 40201    | Den aktuelle avgiveren har ikke rettigheter til å sende formidlingstjenesten                                                             |
| 40202    | En eller flere av mottakerne oppgitt finnes ikke, eller har ikke nok rettigheter til å motta formidlingstjenesten                        |
| 40210    | Tjenestekoder, ExternalServiceCode og/eller ExternalServiceEditionCode, mangler eller er satt til 0 og angir ikke en formidlingstjeneste |
| 40211    | Bruker er ikke autorisert til å utføre aktuell handling                                                                                  |
| 40216    | Brukeren er på et sikkerhetsnivå lavere enn påkrevd                                                                                      |

### BrokerServiceStreamed.UploadFileStreamed

Operasjonen benyttes for å strømme formidlingstjenestens innhold til Altinn basert på en referanse mottatt gjennom kallet til BrokerService.InitiateBrokerService.

| Input                        | Beskrivelse                                                                                               |
| ---------------------------- | --------------------------------------------------------------------------------------------------------- |
| StreamedPayloadExternalBE[1] | Objekt av typen StreamedPayloadExternalBE som inneholder informasjon og selve stream av fil som opplastes |
| **Returverdi**               | **Beskrivelse**                                                                                           |
| ReceiptExternalStreamedBE    | Objekt av typen ReceiptExternalStreamedBE som inneholder detaljer for kvitteringen                        |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.

| Property                      | Beskrivelse                                                                                                                                                                                                      |
| ----------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **StreamedPayloadExternalBE** |                                                                                                                                                                                                                  |
| Reference                     | Angir referansen payload skal knyttes til. Denne referansen mottas gjennom kallet til InitiateBrokerService. Feltet er påkrevd.                                                                                  |
| Reportee                      | Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd                                                                                                            |
| FileName                      | Navnet på filen som skal lastes opp.                                                                                                                                                                             |
| DataStream                    | Datastrømmen for fil som lastes opp                                                                                                                                                                              |
| **ReceiptExternalStreamedBE** |                                                                                                                                                                                                                  |
| ReceiptId                     | Unik identifikator for kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering                                                                                                         |
| ReceiptText                   | Tekst i kvitteringen som angir vellykket opplasting: “Upload of file {filnavn} was successful. Recipients can now download the file.” Eventuelle feil vil returneres som AltinnFaults                            |
| ReceiptHistory                | Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken                                                                                                |
| LastChanged                   | Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)                                                                                                                                     |
| ReceiptTypeName               | Angir hva kvittering gjelder. Vil i bruk på denne operasjonen alltid returnere BrokerService                                                                                                                     |
| ReceiptStatusCode             | Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected                                                                                                                 |
| ParentReceiptId               | Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering). For denne operasjonen vil den alltid være 0 |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                             |
| -------- | --------------------------------------------------------------------------------------- |
| 40201    | Den aktuelle avgiveren har ikke rettigheter til å sende formidlingstjenesten.           |
| 40204    | Filen som lastes opp er for stor for opplasting over web service. Bruk SFTP istedenfor. |
| 40205    | Ingen data for fil ble mottatt.                                                         |
| 40206    | Filen som er mottatt er ikke på forventet ZIP-format.                                   |
| 40208    | En fil er allerede lastet opp på den angitte referansen.                                |
| 40209    | Opplastet fil er stoppet av virussjekk.                                                 |
| 40211    | Bruker er ikke autorisert til å utføre aktuell handling.                                |
| 40212    | Oppgitt filreferanse refererer ikke til en formidlingstjeneste.                         |
| 40213    | Angitt avgiver stemmer ikke med informasjon i Altinn.                                   |
| 40216    | Brukeren er på et sikkerhetsnivå lavere enn påkrevd.                                    |

### BrokerServiceStreamed.DownloadFileStreamed

Operasjonen benyttes for å strømme formidlingstjenestens innhold fra Altinn til mottaker basert på en referanse for formidlingstjenesten som kan hentes ved å benytte BrokerService.GetAvailableFiles.

| Input                | Beskrivelse                                                                                                                                  |
| -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| string fileReference | Angir referansen for formidlingstjeneste som skal strømmes ned. Denne referansen hentes gjennom kallet GetAvailableFiles. Feltet er påkrevd. |
| string reportee      | Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd                                        |
| **Returverdi**       | **Beskrivelse**                                                                                                                              |
| Stream               | Datastrømmen for formidlingstjenestefilen                                                                                                    |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                             |
| -------- | --------------------------------------------------------------------------------------- |
| 40204    | Filen som lastes ned er for stor for nedlasting over web service. Bruk SFTP istedenfor. |
| 40207    | Den gitte referansen har ikke fil klar for nedlasting.                                  |
| 40211    | Bruker er ikke autorisert til å utføre aktuell handling.                                |
| 40212    | Oppgitt filreferanse refererer ikke til en formidlingstjeneste.                         |
| 40213    | Angitt avgiver stemmer ikke med informasjon i Altinn.                                   |
| 40215    | Angir at mottaker ikke har nødvendige rettigheter til å laste ned formidlingstjenesten. |
| 40216    | Brukeren er på et sikkerhetsnivå lavere enn påkrevd                                     |

### BrokerService.ConfirmDownloaded

Operasjonen benyttes til å bekrefte at man har fått lastet ned en formidlingstjeneste fil i sin helhet. Operasjonen bør kalles rett etter at det er blitt gjort en nedlasting hvis dette gikk bra. Resultatet er at avsender kan se hvem av filens mottakere som har fått hentet filen.

| Input                | Beskrivelse                                                                       |
| -------------------- | --------------------------------------------------------------------------------- |
| string fileReference | Angir referansen til filen som skal bekreftes nedlastet. Obligatorisk.            |
| string reportee      | Organisasjonsnummer eller fødselsnummer som angir mottaker av filen. Obligatorisk |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                    |
| -------- | -------------------------------------------------------------- |
| 40211    | Bruker er ikke autorisert til å utføre aktuell handling        |
| 40212    | Oppgitt filreferanse refererer ikke til en formidlingstjeneste |
| 40213    | Angitt avgiver stemmer ikke med informasjon i Altinn           |
| 40215    | Angir at mottaker ikke har nødvendige rettigheter              |
| 40216    | Brukeren er på et sikkerhetsnivå lavere enn påkrevd            |

## Formidlingstjenester (SFTP)

**OBS:** SFTP-grensesnitt for formidlingstjenesten fases ut og skal ikke tas i bruk av nye aktører.

Avsendere og mottakere av formidlingstjenester kan benytte seg av egen SFTP server på Altinn til å henholdsvis laste opp og ned filer.
Som tidligere nevnt vil ikke Altinn forholde seg til eller validere ZIP-filen som lastes opp utover to nøkkelfiler i selve ZIP-filen.

### Manifest.xml

Denne må lastes opp som del av ZIP-filen og validere mot XSD som spesifisert under.
Inneholder nøkkelinformasjon om hva slags type formidlingstjeneste det er, og hvem som er avsender.
Enkelte felter vil bli oppdatert av Altinn i forbindelse med tilgjengeliggjøring til mottakere.
Manifest filen vil være del av ZIP-pakken som mottaker laster
ned.

| Element                    | Påkrevd | Beskrivelse                                                                                                                                                        |
| -------------------------- | ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| BrokerServiceManifest      | Ja      | Rotnode                                                                                                                                                            |
| ExternalServiceCode        | Ja      | Angir tjenestekoden til formidlingstjenesten som skal benyttes                                                                                                     |
| ExternalServiceEditionCode | Ja      | Angir tjenesteutgavekoden til formidlingstjenesten som skal benyttes                                                                                               |
| SendersReference           | Ja      | Angir avsenders referanse, som kan benyttes til å søke opp kvittering                                                                                              |
| Reportee                   | Ja      | Angir organisasjonsnummer eller fødselsnummer for avgiver                                                                                                          |
| SentDate                   | Nei     | Dato for når formidlingstjenesten ble mottatt av Altinn. Settes av Altinn, (yyyy-MM-ddThh:mm:ss)                                                                   |
| FileList                   | Nei     | Liste med filer i formidlingstjenesten. Kan angis av avsender. Avsender og mottaker(e) avtaler bruk, Altinn videreformidler kun informasjonen                      |
| File                       | Nei     | Representerer en fil                                                                                                                                               |
| FileName                   | Ja      | Angir navn på fil                                                                                                                                                  |
| CheckSum                   | Nei     | Angir checksum for filen                                                                                                                                           |
| PropertyList               | Nei     | Liste med egenskaper i tilknytning til formidlingstjenesten. Kan angis av avsender. Avsender og mottaker(e) avtaler bruk, Altinn videreformidler kun informasjonen |
| Property                   | Nei     | Representerer en egenskap                                                                                                                                          |
| PropertyKey                | Ja      | Egenskapens nøkkel                                                                                                                                                 |
| PropertyValue              | Ja      | Egenskapens verdi                                                                                                                                                  |


### Recipients.xml

Denne må lastes opp som del av ZIP-filen og validere mot XSD som spesifisert under. Benyttes av avsender til å angi hvem som skal være mottakere av formidlingstjenesten. Recipients filen vil av Altinn fjernes fra ZIP-pakken som mottaker kan laste ned.

| Element                    | Påkrevd | Beskrivelse                                                                        |
| -------------------------- | ------- | ---------------------------------------------------------------------------------- |
| BrokerServiceRecipientList | Ja      | Rotnode                                                                            |
| Recipient                  | Ja      | Node for hver enkelt mottaker                                                      |
| PartyNumber                | Ja      | Angir organisasjonsnummer eller fødselsnummer for mottaker av formidlingstjenesten |

LookUpExternal – Innsynstjenester (WS)

## ExecuteLookUp

Operasjonen benyttes for å utføre oppslag mot en innsynstjeneste i Altinn.

| Input                        | Beskrivelse                                                                                                        |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------------ |
| LookUpRequest                | Objekt av typen LookUpRequestExternalBE som spesifiserer tjeneste, reportee og spørring/input til innsynstjenesten |
| **Returverdi**               | **Beskrivelse**                                                                                                    |
| ExecuteLookUpResult (string) | Svar fra innsynstjenesten som en tekststreng                                                                       |

Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten

| Property           | Beskrivelse                                                                                       |
| ------------------ | ------------------------------------------------------------------------------------------------- |
| **LookUpRequest**  |                                                                                                   |
| QueryData          | Input/spørring til innsynstjenesten som en tekststreng                                            |
| Reportee           | Organisasjonsnummer eller fødselsnummer som angir avgiver for innsynstjenesten. Feltet er påkrevd |
| ServiceCode        | Angir tjenestekoden til innsynstjenesten som skal benyttes. Feltet er påkrevd                     |
| ServiceEditionCide | Angir tjenesteutgavekoden til innsynstjenesten som skal opprettes. Feltet er påkrevd              |

Tabellen under angir mulige feilkoder for operasjonen:

| Feilkode | Beskrivelse                                                                                                                  |
| -------- | ---------------------------------------------------------------------------------------------------------------------------- |
| 40028    | Kombinasjonen av ServiceCode og ServiceEditionCode er ikke en gyldig innsynstjeneste                                         |
| 450067   | Innsynstjenesten er ikke konfigurert med en Mapper og støtter derfor ikke direkte kall gjennom LookUpExternal eller REST API |
| 450068   | Returneres dersom LookUp Mapper returnerer «Bad Request» feil kode                                                           |
| 450069   | Returneres dersom LookUp Mapper returnerer «Forbidden» feil kode                                                             |

AuthorizationExternal – TokenExternal (WS)

## Sammenheng mellom nye og gamle Altinn web services

Nedenfor vises en oversikt som mapper web service grensesnitt tilgjengelige i AltinnI med de som tilbys i AltinnII versjon 1:

| AltinnI operasjon                                        | AltinnII ver. 1 operasjon                              | Kommentar AltinnII                                       |
| -------------------------------------------------------- | ------------------------------------------------------ | -------------------------------------------------------- |
| DataExchange.ActiveForms                                 | ServiceMetadata.GetAvailableServices                   | AltinnII er tjenesteorientert, ikke skjemaorientert.     |
| DataExchange.AltInnStatus                                | IntermediaryInbound.GetAltinnSubmissionStatus          |                                                          |
| DataExchange.BatchReceiptPw                              | ReporteeArchiveExternal.GetArchivedFormTask            | AltinnII operasjonen henter kun skjemasett, ikke vedlegg |
| DataExchange.BatchReceiptPw                              | ReporteeArchiveExternal.GetAttachmentData              | AltinnII operasjonen henter kun vedlegg, ikke skjemasett |
| DataExchange.GetSchemaDefinition                         | ServiceMetadata.GetFormTaskSchemaDefinitions           |                                                          |
| DataExchange.RequestAuthenticationChallengePw            | SystemAuthentication. GetAuthenticationChallenge       |                                                          |
| DataExchange.RequestInfoText                             | Workflow.GetSigningText                                |                                                          |
| DataExchange.RequestPrefillData                          | Prefill.GetPrefillData                                 | AltinnII versjon 2                                       |
| DataExchange.SubmitBatchPw                               | IntermediaryInbound.SubmitFormTask                     |                                                          |
| MessageReceiptExchange.GetAltUtMessage                   | Correspondence.GetCorrespondenceForEndUserSystemV2     |                                                          |
| N/A                                                      | Correspondence.DeleteCorrespondence                    | Ny web service operasjon i AltinnII                      |
| N/A                                                      | Correspondence.SaveCorrespondenceConfirmation          | Ny web service operasjon i AltinnII                      |
| MessageReceiptExchange.GetAltUtMessageListForArchiveRef  | ReporteeElementList.GetCorrespondenceListForArchiveRef |                                                          |
| MessageReceiptExchange.GetAltUtMessageListForParticipant | ReporteeElementList.GetCorrespondenceListForReportee   |                                                          |
| N/A                                                      | ReporteeElementList.DeleteReporteeElement              | Ny web service operasjon i AltinnII                      |
| N/A                                                      | ReporteeElementList.GetFormSetElementsV2               | Ny web service operasjon i AltinnII                      |
| N/A                                                      | ReporteeElementList.GetReporteeElementListV2           | Ny web service operasjon i AltinnII                      |
| MessageReceiptExchange.GetReceipt                        | Receipt.GetReceipt                                     |                                                          |
| MessageReceiptExchange.GetReceiptList                    | Receipt.GetReceiptList                                 |                                                          |
| N/A                                                      | Receipt.UpdateReceipt                                  | Ny web service operasjon i AltinnII                      |
| N/A                                                      | Workflow.DoSendingInAction                             | Ny web service operasjon i AltinnII                      |
| N/A                                                      | Workflow.DoSigning                                     | Ny web service operasjon i AltinnII                      |
| N/A                                                      | Workflow.GetAvailableActionsV2                         | Ny web service operasjon i AltinnII                      |
| N/A                                                      | Workflow.GetNextWorkflowStateTypeInProcessFlowV2       | Ny web service operasjon i AltinnII                      |
| N/A                                                      | Workflow.GetProcessDetailsV2                           | Ny web service operasjon i AltinnII                      |
| N/A                                                      | Workflow.SetBackToFormFilling                          | Ny web service operasjon i AltinnII                      |
